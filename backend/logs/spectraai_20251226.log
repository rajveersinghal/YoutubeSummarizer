2025-12-26 16:25:34 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:25:34 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:25:37 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 16:25:37 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:25:37 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:25:37 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 16:25:37 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 16:25:37 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 16:25:37 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 16:25:37 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 16:25:37 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 16:25:37 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T10:55:37.991068
2025-12-26 16:25:37 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 16:25:37 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 16:25:38 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 16:25:38 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:25:38 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.0-flash-exp
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 16:25:38 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 16:25:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:25:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:25:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:25:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification...
2025-12-26 16:25:55 | INFO     | spectraai | verify_clerk_token:147 | üì° Attempting JWKS verification...
2025-12-26 16:25:55 | INFO     | spectraai | get_jwks_url:105 | üì° Using test JWKS URL: https://clerk.clerk.accounts.dev/.well-known/jwks.json
2025-12-26 16:25:57 | ERROR    | spectraai | verify_clerk_token:181 | ‚ùå JWKS error: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 56, in fetch_data
    with urllib.request.urlopen(
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 215, in urlopen
    return opener.open(url, data, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 521, in open
    response = meth(req, response)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 630, in http_response
    response = self.parent.error(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 559, in error
    return self._call_chain(*args)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 492, in _call_chain
    result = func(*args)
             ^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 639, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 400: Bad Request

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 151, in verify_clerk_token
    signing_key = jwks_client.get_signing_key_from_jwt(token)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 115, in get_signing_key_from_jwt
    return self.get_signing_key(header.get("kid"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 97, in get_signing_key
    signing_keys = self.get_signing_keys()
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 84, in get_signing_keys
    jwk_set = self.get_jwk_set(refresh)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 76, in get_jwk_set
    data = self.fetch_data()
           ^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 61, in fetch_data
    raise PyJWKClientConnectionError(
jwt.exceptions.PyJWKClientConnectionError: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
2025-12-26 16:25:57 | INFO     | spectraai | verify_clerk_token:182 | üîÑ Falling back to Clerk API verification...
2025-12-26 16:25:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 3.655s
2025-12-26 16:26:00 | ERROR    | spectraai | verify_clerk_token_api:264 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:26:00 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:26:00 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:26:00 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 4.773s
2025-12-26 16:26:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:26:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:26:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:26:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:26:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification...
2025-12-26 16:26:55 | INFO     | spectraai | verify_clerk_token:147 | üì° Attempting JWKS verification...
2025-12-26 16:26:55 | ERROR    | spectraai | verify_clerk_token:181 | ‚ùå JWKS error: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 56, in fetch_data
    with urllib.request.urlopen(
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 215, in urlopen
    return opener.open(url, data, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 521, in open
    response = meth(req, response)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 630, in http_response
    response = self.parent.error(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 559, in error
    return self._call_chain(*args)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 492, in _call_chain
    result = func(*args)
             ^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 639, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 400: Bad Request

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 151, in verify_clerk_token
    signing_key = jwks_client.get_signing_key_from_jwt(token)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 115, in get_signing_key_from_jwt
    return self.get_signing_key(header.get("kid"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 97, in get_signing_key
    signing_keys = self.get_signing_keys()
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 84, in get_signing_keys
    jwk_set = self.get_jwk_set(refresh)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 76, in get_jwk_set
    data = self.fetch_data()
           ^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 61, in fetch_data
    raise PyJWKClientConnectionError(
jwt.exceptions.PyJWKClientConnectionError: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
2025-12-26 16:26:55 | INFO     | spectraai | verify_clerk_token:182 | üîÑ Falling back to Clerk API verification...
2025-12-26 16:26:58 | ERROR    | spectraai | verify_clerk_token_api:264 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:26:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:26:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:26:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 2.992s
2025-12-26 16:27:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:27:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:27:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:27:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:27:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification...
2025-12-26 16:27:55 | INFO     | spectraai | verify_clerk_token:147 | üì° Attempting JWKS verification...
2025-12-26 16:27:56 | ERROR    | spectraai | verify_clerk_token:181 | ‚ùå JWKS error: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 56, in fetch_data
    with urllib.request.urlopen(
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 215, in urlopen
    return opener.open(url, data, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 521, in open
    response = meth(req, response)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 630, in http_response
    response = self.parent.error(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 559, in error
    return self._call_chain(*args)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 492, in _call_chain
    result = func(*args)
             ^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 639, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 400: Bad Request

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 151, in verify_clerk_token
    signing_key = jwks_client.get_signing_key_from_jwt(token)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 115, in get_signing_key_from_jwt
    return self.get_signing_key(header.get("kid"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 97, in get_signing_key
    signing_keys = self.get_signing_keys()
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 84, in get_signing_keys
    jwk_set = self.get_jwk_set(refresh)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 76, in get_jwk_set
    data = self.fetch_data()
           ^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 61, in fetch_data
    raise PyJWKClientConnectionError(
jwt.exceptions.PyJWKClientConnectionError: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
2025-12-26 16:27:56 | INFO     | spectraai | verify_clerk_token:182 | üîÑ Falling back to Clerk API verification...
2025-12-26 16:27:57 | ERROR    | spectraai | verify_clerk_token_api:264 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:27:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:27:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:27:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 2.220s
2025-12-26 16:28:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:28:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 16:28:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:28:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:28:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification...
2025-12-26 16:28:55 | INFO     | spectraai | verify_clerk_token:147 | üì° Attempting JWKS verification...
2025-12-26 16:28:56 | ERROR    | spectraai | verify_clerk_token:181 | ‚ùå JWKS error: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 56, in fetch_data
    with urllib.request.urlopen(
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 215, in urlopen
    return opener.open(url, data, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 521, in open
    response = meth(req, response)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 630, in http_response
    response = self.parent.error(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 559, in error
    return self._call_chain(*args)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 492, in _call_chain
    result = func(*args)
             ^^^^^^^^^^^
  File "C:\Users\RAJVEER SINGHAL\AppData\Local\Programs\Python\Python312\Lib\urllib\request.py", line 639, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 400: Bad Request

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 151, in verify_clerk_token
    else:
          
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 115, in get_signing_key_from_jwt
    return self.get_signing_key(header.get("kid"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 97, in get_signing_key
    signing_keys = self.get_signing_keys()
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 84, in get_signing_keys
    jwk_set = self.get_jwk_set(refresh)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 76, in get_jwk_set
    data = self.fetch_data()
           ^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\jwt\jwks_client.py", line 61, in fetch_data
    raise PyJWKClientConnectionError(
jwt.exceptions.PyJWKClientConnectionError: Fail to fetch data from the url, err: "HTTP Error 400: Bad Request"
2025-12-26 16:28:56 | INFO     | spectraai | verify_clerk_token:182 | üîÑ Falling back to Clerk API verification...
2025-12-26 16:28:57 | ERROR    | spectraai | verify_clerk_token_api:264 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:28:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:28:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:28:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 2.245s
2025-12-26 16:29:07 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:29:07 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:29:14 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 16:29:14 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:29:14 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:29:14 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 16:29:14 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 16:29:14 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 16:29:14 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T10:59:14.624359
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 16:29:14 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 16:29:14 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:29:14 | WARNING  | spectraai | validate:349 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.0-flash-exp
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 16:29:14 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 16:29:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:29:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 16:29:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:29:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:29:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:29:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:29:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:29:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:29:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:29:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 1.658s
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:00:34.202125
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 16:30:34 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 16:30:34 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 16:30:36 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:30:36 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:30:41 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 16:30:41 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:30:41 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:30:41 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 16:30:41 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 16:30:41 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 16:30:41 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:00:41.785076
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 16:30:41 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 16:30:41 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:30:41 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.0-flash-exp
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 16:30:41 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 16:30:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:30:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:30:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:30:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:30:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.659s
2025-12-26 16:30:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:30:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:30:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:30:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:30:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 1.455s
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:01:11.891196
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 16:31:11 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 16:31:11 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 16:31:22 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:31:22 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:31:25 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 16:31:25 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:31:25 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:31:25 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 16:31:25 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 16:31:25 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 16:31:25 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:01:25.318062
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 16:31:25 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 16:31:25 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:31:25 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.0-flash-exp
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 16:31:25 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 16:31:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:31:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:31:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:31:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:31:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.677s
2025-12-26 16:31:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:31:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:31:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:31:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:31:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 1.482s
2025-12-26 16:32:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:32:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:32:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:32:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:32:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:32:17 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:17 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:32:19 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:19 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:32:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:20 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:20 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:22 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:22 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 16:32:24 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:24 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:26 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:26 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:26 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:26 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:26 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:26 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:32:26 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:32:26 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:26 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:32:26 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 5.568s
2025-12-26 16:32:26 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 7.164s
2025-12-26 16:32:26 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 8.755s
2025-12-26 16:32:26 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 5.572s
2025-12-26 16:32:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:26 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:26 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:28 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:28 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:28 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:28 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/ | Detail: Invalid or expired token
2025-12-26 16:32:28 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 401 | Duration: 3.860s
2025-12-26 16:32:28 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:28 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:28 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:28 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:28 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.302s
2025-12-26 16:32:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:28 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:28 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:32:30 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:30 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:32:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:32:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:32:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:32:31 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:31 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:33 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:33 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:35 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:35 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:36 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:36 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.511s
2025-12-26 16:32:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:32:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:32:38 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:38 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:38 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:38 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:38 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.379s
2025-12-26 16:32:39 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:39 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:32:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.080s
2025-12-26 16:32:39 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:39 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:32:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 7.094s
2025-12-26 16:32:39 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:39 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:39 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:39 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:32:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.342s
2025-12-26 16:32:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.706s
2025-12-26 16:32:39 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:39 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:32:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 7.125s
2025-12-26 16:32:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:39 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:39 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:41 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:41 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:41 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:41 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:41 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.492s
2025-12-26 16:32:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:41 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:41 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:32:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:32:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:32:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:32:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:32:43 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:43 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:44 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:44 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:46 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:46 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:48 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:48 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:50 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:50 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 8.425s
2025-12-26 16:32:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 16:32:51 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:51 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:32:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.041s
2025-12-26 16:32:53 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:53 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:53 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 12.080s
2025-12-26 16:32:53 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:53 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:32:53 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 10.547s
2025-12-26 16:32:53 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:53 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/ | Detail: Invalid or expired token
2025-12-26 16:32:53 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:53 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:53 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:53 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 401 | Duration: 2.150s
2025-12-26 16:32:53 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 3.787s
2025-12-26 16:32:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:53 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:53 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:55 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:55 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:55 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:55 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:55 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:32:55 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:55 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:55 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:32:55 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 12.337s
2025-12-26 16:32:55 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 12.341s
2025-12-26 16:32:56 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:56 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:56 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:56 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:32:56 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 12.952s
2025-12-26 16:32:56 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:32:56 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:32:56 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:32:56 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:32:56 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.823s
2025-12-26 16:32:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:32:56 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:56 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:32:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:32:58 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:32:58 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:33:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:33:00 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:00 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:01 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:01 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:03 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:03 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:05 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:05 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.592s
2025-12-26 16:33:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:33:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.747s
2025-12-26 16:33:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:33:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:33:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.373s
2025-12-26 16:33:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 7.061s
2025-12-26 16:33:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.061s
2025-12-26 16:33:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 7.061s
2025-12-26 16:33:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.095s
2025-12-26 16:33:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:07 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:07 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:09 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:09 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:09 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:09 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:09 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.380s
2025-12-26 16:33:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:09 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:09 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:33:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:33:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:11 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:11 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:13 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:13 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:14 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:14 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:16 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:16 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:17 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:17 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 8.031s
2025-12-26 16:33:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:33:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:33:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.155s
2025-12-26 16:33:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.557s
2025-12-26 16:33:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 8.557s
2025-12-26 16:33:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:33:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.267s
2025-12-26 16:33:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 8.640s
2025-12-26 16:33:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.637s
2025-12-26 16:33:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:19 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:19 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:22 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:22 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:22 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:22 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:22 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.435s
2025-12-26 16:33:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:22 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:22 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:23 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:23 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:33:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:33:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:25 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:25 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:27 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:27 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:28 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:28 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:30 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:30 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 7.001s
2025-12-26 16:33:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:33:33 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:33 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:33 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:33 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:33 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:33 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:33 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:33 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:33:33 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:33 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:33 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:33:33 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:33 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:33 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.843s
2025-12-26 16:33:33 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 7.527s
2025-12-26 16:33:33 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.525s
2025-12-26 16:33:33 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.290s
2025-12-26 16:33:33 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 7.530s
2025-12-26 16:33:33 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 9.311s
2025-12-26 16:33:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:33 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:33 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:35 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:35 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:35 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:35 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:35 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.258s
2025-12-26 16:33:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:35 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:35 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:37 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:37 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:33:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:33:38 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:38 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:40 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:40 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:41 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:41 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:43 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:43 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.315s
2025-12-26 16:33:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:33:45 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:45 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:45 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 9.898s
2025-12-26 16:33:45 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:45 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:33:45 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:45 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:45 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 6.779s
2025-12-26 16:33:45 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:45 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:45 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 6.789s
2025-12-26 16:33:45 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:45 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:45 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:45 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.372s
2025-12-26 16:33:45 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.783s
2025-12-26 16:33:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:45 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:45 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:47 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:47 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:47 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:47 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:33:47 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 8.623s
2025-12-26 16:33:47 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:47 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:47 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:47 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:47 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.253s
2025-12-26 16:33:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:48 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:48 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:49 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:49 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:33:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:33:51 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:51 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:52 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:52 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:54 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:54 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:56 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:56 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 5.689s
2025-12-26 16:33:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:33:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 16:33:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 9.368s
2025-12-26 16:33:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:33:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.191s
2025-12-26 16:33:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.841s
2025-12-26 16:33:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 6.135s
2025-12-26 16:33:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:33:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:33:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 6.160s
2025-12-26 16:33:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 6.163s
2025-12-26 16:33:57 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:57 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:33:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:33:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:33:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:33:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.032s
2025-12-26 16:33:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:33:58 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:58 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:33:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:33:59 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:33:59 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:34:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:34:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:34:00 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:00 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:34:01 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:01 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:01 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:01 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:02 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:02 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:02 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:02 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:02 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:02 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:02 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:02 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:02 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:02 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:03 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 3.954s
2025-12-26 16:34:03 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 4.867s
2025-12-26 16:34:03 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:03 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:34:03 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 3.114s
2025-12-26 16:34:03 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:03 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:03 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:03 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 1.764s
2025-12-26 16:34:03 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:34:03 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 2.386s
2025-12-26 16:34:03 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:03 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:03 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:03 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.792s
2025-12-26 16:34:03 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:04 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:04 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:05 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:05 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:05 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:05 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:05 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.468s
2025-12-26 16:34:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:05 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:05 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:06 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:06 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:34:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:34:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:07 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 1.357s
2025-12-26 16:34:07 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:07 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:07 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:07 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.107s
2025-12-26 16:34:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:34:07 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:07 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:34:09 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:09 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:10 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:10 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:11 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:11 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:12 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:12 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:34:12 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 4.698s
2025-12-26 16:34:12 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:12 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:34:12 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 2.957s
2025-12-26 16:34:12 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:12 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:12 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:12 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:12 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:12 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 1.844s
2025-12-26 16:34:12 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.844s
2025-12-26 16:34:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:12 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:12 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:13 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:13 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:13 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:13 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:13 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.146s
2025-12-26 16:34:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:13 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:13 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:14 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:14 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:34:15 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:15 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:34:16 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:16 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:17 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:17 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:17 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:17 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 2.716s
2025-12-26 16:34:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 16:34:18 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:18 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:18 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:18 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:34:18 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 5.068s
2025-12-26 16:34:18 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 3.139s
2025-12-26 16:34:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 4.093s
2025-12-26 16:34:18 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:18 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 2.364s
2025-12-26 16:34:18 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:18 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.370s
2025-12-26 16:34:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:18 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:18 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:34:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 2.965s
2025-12-26 16:34:19 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:19 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:19 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.016s
2025-12-26 16:34:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:19 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:19 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:20 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:20 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 16:34:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 16:34:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:34:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 1.085s
2025-12-26 16:34:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:34:21 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:21 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:22 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:22 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:23 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:23 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:23 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:23 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:23 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:23 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:23 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:23 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:24 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 4.442s
2025-12-26 16:34:24 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:24 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:34:24 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 3.006s
2025-12-26 16:34:24 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:24 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:24 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 1.629s
2025-12-26 16:34:24 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:24 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:24 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:24 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.639s
2025-12-26 16:34:24 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:24 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:34:24 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 3.076s
2025-12-26 16:34:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:24 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:24 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:27 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:27 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:27 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:27 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:27 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.474s
2025-12-26 16:34:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:27 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:27 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:29 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:29 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:34:31 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:31 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:34:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:32 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:32 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:34 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:34 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:36 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:36 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.583s
2025-12-26 16:34:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:34:38 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:38 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:38 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.606s
2025-12-26 16:34:38 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:38 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:34:38 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 7.017s
2025-12-26 16:34:38 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:38 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:34:38 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 5.167s
2025-12-26 16:34:38 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:38 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:38 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:38 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 5.182s
2025-12-26 16:34:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:38 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:38 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:39 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:39 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:39 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:39 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:39 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:39 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 10.500s
2025-12-26 16:34:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 6.774s
2025-12-26 16:34:40 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:40 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:40 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:40 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:40 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.029s
2025-12-26 16:34:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:40 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:40 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:42 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:42 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:34:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:34:43 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:43 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:45 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:45 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:47 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:47 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:49 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:49 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:50 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.607s
2025-12-26 16:34:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:50 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.003s
2025-12-26 16:34:50 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:50 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:50 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:50 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.492s
2025-12-26 16:34:50 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:50 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:50 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:50 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.023s
2025-12-26 16:34:50 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.646s
2025-12-26 16:34:50 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:50 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:34:50 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 7.053s
2025-12-26 16:34:50 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:50 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:34:50 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 7.062s
2025-12-26 16:34:50 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:50 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:50 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:50 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.822s
2025-12-26 16:34:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:50 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:50 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:52 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:52 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:52 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:52 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:52 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.304s
2025-12-26 16:34:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:52 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:52 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:53 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:53 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:34:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:34:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:34:53 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:53 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:54 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:54 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:54 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:54 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 2.042s
2025-12-26 16:34:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:34:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:34:56 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:56 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:56 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 3.656s
2025-12-26 16:34:56 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:56 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:34:56 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 3.101s
2025-12-26 16:34:56 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:56 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:56 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:56 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.081s
2025-12-26 16:34:56 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:56 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:34:56 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 3.125s
2025-12-26 16:34:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:56 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:56 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:34:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:57 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:34:57 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:57 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:57 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 3.993s
2025-12-26 16:34:57 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 5.537s
2025-12-26 16:34:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:34:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:34:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:34:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:34:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.292s
2025-12-26 16:34:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:34:58 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:34:58 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:00 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:00 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:35:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:35:01 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:01 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:03 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:03 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:05 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:05 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:06 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:06 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.608s
2025-12-26 16:35:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:35:08 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:08 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:08 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.697s
2025-12-26 16:35:08 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:08 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:08 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:08 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:35:08 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:08 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:08 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.168s
2025-12-26 16:35:08 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:35:08 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:08 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:08 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:08 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:08 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 7.204s
2025-12-26 16:35:08 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 7.206s
2025-12-26 16:35:08 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.560s
2025-12-26 16:35:08 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.282s
2025-12-26 16:35:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:08 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:08 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:10 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:10 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:10 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:10 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:10 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.096s
2025-12-26 16:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:11 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:11 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:12 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:12 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:35:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:35:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:14 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:14 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:15 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:15 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:17 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:17 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:19 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:19 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.305s
2025-12-26 16:35:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 16:35:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 10.102s
2025-12-26 16:35:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.111s
2025-12-26 16:35:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:35:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 6.766s
2025-12-26 16:35:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:35:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 6.781s
2025-12-26 16:35:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 6.789s
2025-12-26 16:35:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.989s
2025-12-26 16:35:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:21 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:21 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:23 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:23 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:23 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:23 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:23 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.038s
2025-12-26 16:35:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:23 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:23 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:25 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:25 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:35:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:35:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:26 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:26 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:28 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:28 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:30 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:30 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:32 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:32 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 7.597s
2025-12-26 16:35:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.025s
2025-12-26 16:35:34 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:34 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:35:34 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 8.029s
2025-12-26 16:35:34 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:34 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:35:34 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 8.049s
2025-12-26 16:35:34 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:34 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:34 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 8.066s
2025-12-26 16:35:34 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:34 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:34 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:34 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:34 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:34 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 9.668s
2025-12-26 16:35:34 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.323s
2025-12-26 16:35:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:34 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:34 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:36 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:36 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:36 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:36 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:36 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 13.083s
2025-12-26 16:35:36 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:36 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:36 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:36 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:36 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.061s
2025-12-26 16:35:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:36 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:36 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:38 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:38 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:35:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:35:40 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:40 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:41 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:41 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:43 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:43 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:44 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:44 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.200s
2025-12-26 16:35:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:35:46 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:46 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 9.770s
2025-12-26 16:35:46 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:46 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 6.650s
2025-12-26 16:35:46 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:46 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:35:46 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:46 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 6.680s
2025-12-26 16:35:46 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:46 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 9.838s
2025-12-26 16:35:46 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:46 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:35:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.097s
2025-12-26 16:35:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 6.703s
2025-12-26 16:35:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:46 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:46 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:48 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:48 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:48 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:48 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:48 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.025s
2025-12-26 16:35:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:48 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:48 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:50 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:50 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:35:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:35:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:35:52 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:52 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:53 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:53 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:55 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:55 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:56 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:56 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:35:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.243s
2025-12-26 16:35:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:35:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:35:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 9.831s
2025-12-26 16:35:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 9.831s
2025-12-26 16:35:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:35:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:35:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 6.716s
2025-12-26 16:35:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 6.717s
2025-12-26 16:35:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:35:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 6.735s
2025-12-26 16:35:58 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:35:58 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:35:58 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:35:58 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.256s
2025-12-26 16:35:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:35:58 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:35:58 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:00 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:00 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:00 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:00 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:00 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.958s
2025-12-26 16:36:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:36:00 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:00 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:02 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:02 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:36:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:36:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:36:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:36:04 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:04 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:05 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:05 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:07 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:07 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:08 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:08 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.230s
2025-12-26 16:36:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:36:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:36:10 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:10 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:36:10 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:10 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 10.024s
2025-12-26 16:36:10 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:10 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 10.030s
2025-12-26 16:36:10 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:10 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:10 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:36:10 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:10 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:10 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:36:10 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:10 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:10 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:36:10 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 6.779s
2025-12-26 16:36:10 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.121s
2025-12-26 16:36:10 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 6.778s
2025-12-26 16:36:10 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 6.783s
2025-12-26 16:36:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:11 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:11 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:13 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:13 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:13 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:13 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:13 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.052s
2025-12-26 16:36:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:13 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:13 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:36:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:36:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:36:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:36:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:36:14 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:14 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:16 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:16 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:17 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:17 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:19 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:19 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.040s
2025-12-26 16:36:20 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:20 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:36:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 16:36:21 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:21 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:21 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 8.749s
2025-12-26 16:36:22 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:22 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:36:22 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.186s
2025-12-26 16:36:22 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:22 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/conversations | Detail: Invalid or expired token
2025-12-26 16:36:22 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:22 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:36:22 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 401 | Duration: 7.195s
2025-12-26 16:36:22 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:22 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 7.198s
2025-12-26 16:36:22 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/stats | Detail: Invalid or expired token
2025-12-26 16:36:22 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/stats | Status: 401 | Duration: 7.203s
2025-12-26 16:36:22 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:22 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:22 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:22 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.170s
2025-12-26 16:36:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:22 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:22 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:23 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:23 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:23 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:23 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:23 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 1.077s
2025-12-26 16:36:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:23 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:23 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:36:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:36:24 | INFO     | spectraai | get_current_user:61 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:24 | INFO     | spectraai | verify_clerk_token:143 | üîê Starting token verification via Clerk API...
2025-12-26 16:36:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.849s
2025-12-26 16:36:25 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:25 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:25 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:25 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/auth/me | Detail: Invalid or expired token
2025-12-26 16:36:25 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/auth/me | Status: 401 | Duration: 2.110s
2025-12-26 16:36:25 | ERROR    | spectraai | verify_clerk_token_api:211 | ‚ùå Clerk API error: 405 - 
2025-12-26 16:36:25 | WARNING  | spectraai | verify_clerk_token:152 | ‚ùå Token verification failed
2025-12-26 16:36:25 | WARNING  | spectraai | get_current_user:67 | ‚ùå Token verification failed
2025-12-26 16:36:25 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/history/activities | Detail: Invalid or expired token
2025-12-26 16:36:25 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/activities | Status: 401 | Duration: 1.287s
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:06:25.484781
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 16:36:25 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 16:36:25 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 16:36:27 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:36:27 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:36:30 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 16:36:30 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:36:30 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:36:30 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 16:36:30 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 16:36:30 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 16:36:30 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:06:30.346039
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 16:36:30 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 16:36:30 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:36:30 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.0-flash-exp
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 16:36:30 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 16:36:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:36:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:36:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:36:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:36:30 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:30 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:36:30 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:30 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:31 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:31 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:36:31 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:31 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:32 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:32 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:36:32 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:32 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:32 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:32 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:36:32 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:32 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 2.953s
2025-12-26 16:36:33 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:36:33 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:33 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:33 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:36:34 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:36:34 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:34 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:34 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:36:34 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:36:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 3.464s
2025-12-26 16:36:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.465s
2025-12-26 16:36:34 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:36:34 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:34 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:34 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:36:34 | ERROR    | spectraai | get_user_preferences:272 | ‚ùå Error getting user preferences: 'Database' object is not an iterator
2025-12-26 16:36:36 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:36:36 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:36 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:36 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:36:36 | ERROR    | spectraai | get_activities:99 | Error fetching activities: 'Database' object is not an iterator
2025-12-26 16:36:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 5.570s
2025-12-26 16:36:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 6.178s
2025-12-26 16:36:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:36:36 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:36 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:36:36 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:36 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:39 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:36:39 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:39 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:39 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:36:39 | ERROR    | spectraai | get_user_preferences:272 | ‚ùå Error getting user preferences: 'Database' object is not an iterator
2025-12-26 16:36:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.379s
2025-12-26 16:36:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:36:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:36:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 16:36:56 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:36:56 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:36:56 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:56 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:58 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:36:58 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:58 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:36:58 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:36:58 | INFO     | spectraai | send_message:101 | Chat request from user {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True}: hey...
2025-12-26 16:36:59 | ERROR    | spectraai | generate_response:83 | AI generation error: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 16:36:59 | ERROR    | spectraai | send_message:149 | Error in chat endpoint: Failed to generate AI response: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 16:36:59 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 500 | Path: /api/chat/ | Detail: Failed to generate response: Failed to generate AI response: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 16:36:59 | ERROR    | spectraai | request_logger_middleware:227 | ‚ùå POST /api/chat/ | Status: 500 | Duration: 3.188s
2025-12-26 16:37:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:37:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:37:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/stats | IP: 127.0.0.1
2025-12-26 16:37:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/stats | Status: 200 | Duration: 0.003s
2025-12-26 16:37:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:37:25 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:37:25 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:37:25 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:37:25 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:37:27 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:37:27 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:37:27 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:37:27 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:37:27 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:37:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.360s
2025-12-26 16:37:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:37:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 16:38:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /health | IP: 127.0.0.1
2025-12-26 16:38:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /health | Status: 200 | Duration: 0.002s
2025-12-26 16:38:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:38:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 16:38:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:38:26 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:38:26 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:38:26 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:38:26 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:38:29 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:38:29 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:38:29 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:38:29 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:38:29 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:38:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.444s
2025-12-26 16:38:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:38:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:39:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:39:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:39:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:39:25 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:39:25 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:39:25 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:39:25 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:39:27 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:39:27 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:39:27 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:39:27 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:39:27 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:39:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.363s
2025-12-26 16:39:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:39:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 16:40:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:40:25 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:40:25 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:40:25 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:40:25 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:40:27 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:40:27 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:40:27 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:40:27 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:40:27 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:40:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.335s
2025-12-26 16:40:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:40:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:41:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:41:25 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:41:25 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:41:25 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:41:25 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:41:27 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:41:27 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:41:27 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:41:27 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:41:27 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:41:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.369s
2025-12-26 16:41:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:41:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:42:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:42:25 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:42:25 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:42:25 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:42:25 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:42:28 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:42:28 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:42:28 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:42:28 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:42:28 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:42:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 3.007s
2025-12-26 16:42:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:42:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:43:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:43:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:43:56 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:43:56 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:43:56 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:43:56 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:43:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.674s
2025-12-26 16:43:58 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:43:58 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:43:58 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:43:58 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:43:58 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:43:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.450s
2025-12-26 16:44:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:44:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:44:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:44:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:44:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:44:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:44:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:44:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:44:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:44:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:44:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:44:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:44:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.379s
2025-12-26 16:45:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:45:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:45:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:45:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:45:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:45:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:45:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:45:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:45:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:45:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:45:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:45:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:45:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.418s
2025-12-26 16:46:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:46:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 16:46:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:46:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:46:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:46:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:46:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:46:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:46:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:46:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:46:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:46:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:46:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.311s
2025-12-26 16:47:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:47:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 16:47:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:47:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:47:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:47:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:47:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:47:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:47:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:47:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:47:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:47:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:47:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.379s
2025-12-26 16:48:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:48:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:48:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:48:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:48:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:48:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:48:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:48:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:48:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:48:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:48:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:48:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:48:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.405s
2025-12-26 16:49:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:49:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:49:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:49:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:49:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:49:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:49:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:49:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:49:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:49:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:49:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:49:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:49:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.361s
2025-12-26 16:50:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:50:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:50:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:50:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:50:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:50:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:50:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:50:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:50:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:50:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:50:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:50:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:50:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.475s
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:21:45.502865
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 16:51:45 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 16:51:45 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 16:52:53 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:52:53 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:52:56 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 16:52:56 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:52:56 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:52:56 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 16:52:56 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 16:52:56 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 16:52:56 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:22:56.849550
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 16:52:56 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 16:52:56 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:52:56 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 16:52:56 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 16:52:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:52:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:52:57 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:52:57 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:52:57 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:52:57 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:52:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.225s
2025-12-26 16:52:59 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:52:59 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:52:59 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:52:59 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:52:59 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:52:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.982s
2025-12-26 16:53:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:53:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:53:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:53:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:53:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:53:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:53:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:53:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:53:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:53:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:53:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:53:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:53:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.679s
2025-12-26 16:54:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:54:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 16:54:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:54:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:54:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:54:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:54:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:54:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:54:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:54:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:54:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: 'Database' object is not an iterator
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 199, in store_user_in_db
    db = next(get_db())
         ^^^^^^^^^^^^^^
TypeError: 'Database' object is not an iterator
2025-12-26 16:54:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:54:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.525s
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:25:18.715374
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 16:55:18 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 16:55:18 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 16:55:20 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:55:21 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:55:24 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 16:55:24 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:55:24 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 16:55:24 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 16:55:24 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 16:55:24 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 16:55:24 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:25:24.696610
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 16:55:24 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 16:55:24 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 16:55:24 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 16:55:24 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 16:55:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:55:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:55:30 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:55:30 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:55:30 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:30 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.943s
2025-12-26 16:55:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:55:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:55:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:55:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 16:55:33 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:55:33 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:33 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:33 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:55:33 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.429s
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/activities | IP: 127.0.0.1
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 0.006s
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/activities | Status: 200 | Duration: 0.005s
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.002s
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.002s
2025-12-26 16:55:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:55:33 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:55:33 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:55:33 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:33 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 16:55:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 16:55:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:55:34 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:55:34 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:55:34 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:34 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:36 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:55:36 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:55:36 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:36 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:38 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:55:38 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:55:38 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:38 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:40 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:55:40 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:40 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:40 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:55:40 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:55:40 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:40 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:40 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:55:40 | ERROR    | spectraai | get_activities:99 | Error fetching activities: 'Database' object is not an iterator
2025-12-26 16:55:40 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:55:40 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:40 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:40 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:55:40 | ERROR    | spectraai | get_user_preferences:272 | ‚ùå Error getting user preferences: 'Database' object is not an iterator
2025-12-26 16:55:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 7.582s
2025-12-26 16:55:42 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:55:42 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:42 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:42 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:55:42 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:55:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 7.599s
2025-12-26 16:55:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 9.313s
2025-12-26 16:55:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 8.031s
2025-12-26 16:55:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 16:55:42 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:55:42 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:55:42 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:42 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 16:55:44 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:55:44 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:55:44 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:44 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:46 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:55:46 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:46 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:46 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:55:46 | ERROR    | spectraai | get_user_preferences:272 | ‚ùå Error getting user preferences: 'Database' object is not an iterator
2025-12-26 16:55:48 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:55:48 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:48 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:55:48 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:55:48 | INFO     | spectraai | send_message:101 | Chat request from user {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True}: hey...
2025-12-26 16:55:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 6.196s
2025-12-26 16:55:49 | ERROR    | spectraai | generate_response:83 | AI generation error: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 16:55:49 | ERROR    | spectraai | send_message:149 | Error in chat endpoint: Failed to generate AI response: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 16:55:49 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 500 | Path: /api/chat/ | Detail: Failed to generate response: Failed to generate AI response: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 16:55:49 | ERROR    | spectraai | request_logger_middleware:227 | ‚ùå POST /api/chat/ | Status: 500 | Duration: 4.730s
2025-12-26 16:56:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:56:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:56:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:56:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 16:56:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 16:56:33 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 16:56:33 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 16:56:33 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:56:33 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:56:36 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 16:56:36 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:56:36 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 16:56:36 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 16:56:36 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 16:56:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 3.119s
2025-12-26 16:57:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 16:57:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:27:16.263012
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 16:57:16 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 16:57:16 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 17:01:04 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:01:04 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:01:07 | INFO     | spectraai | __init__:18 | ‚úÖ Gemini AI service initialized
2025-12-26 17:01:07 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:01:07 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:01:07 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 17:01:07 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 17:01:07 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 17:01:07 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:31:07.465977
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 17:01:07 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 17:01:07 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:01:07 | WARNING  | spectraai | validate:350 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 17:01:07 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 17:01:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:01:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 17:01:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:01:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 17:01:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:01:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 17:01:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:01:31 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:31 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:31 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:31 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:01:33 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:33 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:33 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:33 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:01:35 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:35 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:35 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:35 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:01:37 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:37 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:37 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:37 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:39 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:39 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:39 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:39 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:39 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:01:39 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:39 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:39 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:39 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:39 | ERROR    | spectraai | get_user_preferences:272 | ‚ùå Error getting user preferences: 'Database' object is not an iterator
2025-12-26 17:01:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 10.158s
2025-12-26 17:01:41 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:41 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:41 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:41 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:41 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:41 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:41 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:41 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:41 | ERROR    | spectraai | get_activities:99 | Error fetching activities: 'Database' object is not an iterator
2025-12-26 17:01:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 8.267s
2025-12-26 17:01:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.561s
2025-12-26 17:01:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:01:41 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:41 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:41 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:41 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:01:43 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:43 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:43 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:43 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:01:45 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:45 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:45 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:45 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 12.580s
2025-12-26 17:01:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:01:47 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:01:47 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:01:47 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:47 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:49 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:49 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:49 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:49 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:49 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:49 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:49 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:49 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:49 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:49 | ERROR    | spectraai | get_activities:99 | Error fetching activities: 'Database' object is not an iterator
2025-12-26 17:01:49 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:49 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:49 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:49 | INFO     | spectraai | send_message:101 | Chat request from user {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True}: hey...
2025-12-26 17:01:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 7.964s
2025-12-26 17:01:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 6.073s
2025-12-26 17:01:50 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:01:50 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:50 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:01:50 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:01:50 | ERROR    | spectraai | get_user_preferences:272 | ‚ùå Error getting user preferences: 'Database' object is not an iterator
2025-12-26 17:01:51 | ERROR    | spectraai | generate_response:83 | AI generation error: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 17:01:51 | ERROR    | spectraai | send_message:149 | Error in chat endpoint: Failed to generate AI response: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 17:01:51 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 500 | Path: /api/chat/ | Detail: Failed to generate response: Failed to generate AI response: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 17:01:51 | ERROR    | spectraai | request_logger_middleware:227 | ‚ùå POST /api/chat/ | Status: 500 | Duration: 6.474s
2025-12-26 17:01:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.583s
2025-12-26 17:02:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:02:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 17:02:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:02:31 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:02:31 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:02:31 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:02:31 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:02:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:02:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 17:02:34 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:02:34 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:02:34 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:02:34 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:02:34 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:02:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.390s
2025-12-26 17:03:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:03:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 17:03:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:03:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 17:03:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:03:31 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:03:31 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:03:31 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:03:31 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:03:33 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:03:33 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:03:33 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:03:33 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:03:33 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:03:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.421s
2025-12-26 17:04:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:04:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:34:28.137694
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 17:04:28 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 17:04:28 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 17:14:25 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:14:25 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:14:28 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 17:14:28 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:14:28 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:14:28 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 17:14:28 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 17:14:28 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 17:14:28 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:44:28.891457
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 17:14:28 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 17:14:28 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:14:28 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 17:14:28 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 17:14:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:14:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:14:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:14:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:14:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:14:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:14:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.619s
2025-12-26 17:14:57 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:14:57 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:14:57 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:14:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:14:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:14:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.406s
2025-12-26 17:15:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:15:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 17:15:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:15:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:15:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:15:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:15:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:15:58 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:15:58 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:15:58 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:15:58 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:15:58 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:15:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.876s
2025-12-26 17:16:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:16:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 17:16:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:16:55 | INFO     | spectraai | get_current_user:47 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:16:55 | INFO     | spectraai | verify_clerk_token:89 | üîê Decoding token...
2025-12-26 17:16:55 | INFO     | spectraai | verify_clerk_token:104 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:16:55 | INFO     | spectraai | fetch_clerk_user:139 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:16:58 | INFO     | spectraai | fetch_clerk_user:146 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:16:58 | INFO     | spectraai | verify_clerk_token:117 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:16:58 | INFO     | spectraai | get_current_user:60 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:16:58 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:16:58 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:16:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.828s
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:47:32.911226
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 17:17:32 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 17:17:32 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 17:17:35 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:17:35 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:17:38 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 17:17:38 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:17:38 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:17:38 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 17:17:38 | INFO     | spectraai | <module>:229 | ‚úÖ Error handlers registered
2025-12-26 17:17:38 | INFO     | spectraai | <module>:251 | ‚úÖ CORS middleware configured for frontend
2025-12-26 17:17:38 | INFO     | spectraai | <module>:335 | ‚úÖ All routes registered
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T11:47:38.844308
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:78 | üìä Connecting to MongoDB...
2025-12-26 17:17:38 | INFO     | spectraai | connect:26 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:81 | ‚úÖ MongoDB connected successfully
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:84 | üîç Creating database indexes...
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:102 | ‚úÖ Database indexes created
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:107 | üîç Validating configuration...
2025-12-26 17:17:38 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:17:38 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:109 | ‚úÖ Configuration validated
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:114 | üîß Checking services...
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:126 |   MongoDB: ‚úÖ Connected
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:126 |   Clerk Auth: ‚úÖ Configured
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:126 |   Gemini AI: ‚úÖ Configured
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:126 |   Storage: ‚úÖ Ready
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:126 |   Embeddings: ‚úÖ Ready
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:126 |   Whisper: ‚úÖ Ready
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:126 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:129 | üìÅ Creating directories...
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:143 | ‚úÖ All directories created
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:147 | üìã System Configuration:
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:148 |   üìç Server: 0.0.0.0:8000
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:149 |   üåç Environment: development
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:150 |   üêõ Debug Mode: True
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:151 |   üîê Authentication: Clerk
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:152 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:153 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:154 |   üé§ Transcription: Whisper (base)
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:155 |   üíæ Database: spectraai
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:156 |   üì¶ Storage: storage
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:157 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:158 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:159 |   üëë Admin Users: 0
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:160 | ================================================================================
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:163 | ‚úÖ Application startup completed successfully
2025-12-26 17:17:38 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 17:17:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:17:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:17:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:17:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:17:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:17:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:17:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.680s
2025-12-26 17:17:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:17:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:17:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:17:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:17:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:17:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.454s
2025-12-26 17:18:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:18:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 17:18:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:18:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:18:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:18:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:18:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:18:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:18:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:18:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:18:57 | ERROR    | spectraai | store_user_in_db:245 | ‚ùå Error storing user in DB: '_asyncio.Future' object has no attribute 'get'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\middleware\auth.py", line 235, in store_user_in_db
    "preferences": result.get("preferences", {
                   ^^^^^^^^^^
AttributeError: '_asyncio.Future' object has no attribute 'get'
2025-12-26 17:18:57 | ERROR    | spectraai | get_user_stats:255 | Error fetching stats: 'Database' object is not an iterator
2025-12-26 17:18:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.629s
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:175 | ================================================================================
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:176 | üõë Shutting down application...
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:177 | ‚è∞ Shutdown Time: 2025-12-26T11:49:22.551240
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:178 | ================================================================================
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:182 | üìä Disconnecting from MongoDB...
2025-12-26 17:19:22 | INFO     | spectraai | disconnect:36 | ‚úÖ Disconnected from MongoDB
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:185 | ‚úÖ MongoDB disconnected
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:188 | üßπ Clearing rate limit cache...
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:190 | ‚úÖ Cache cleared
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:192 | ================================================================================
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:193 | ‚úÖ Application shutdown completed successfully
2025-12-26 17:19:22 | INFO     | spectraai | lifespan:194 | ================================================================================
2025-12-26 17:41:01 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:41:01 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:41:11 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 17:41:11 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 17:41:11 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 17:41:11 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:41:11 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:41:11 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 17:41:11 | INFO     | spectraai | <module>:184 | ‚úÖ Error handlers registered
2025-12-26 17:41:11 | INFO     | spectraai | <module>:200 | ‚úÖ CORS middleware configured
2025-12-26 17:41:11 | INFO     | spectraai | <module>:282 | ‚úÖ All routes registered
2025-12-26 17:41:11 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 17:41:11 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 17:41:11 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T12:11:11.937101
2025-12-26 17:41:11 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 17:41:11 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 17:41:11 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 17:41:11 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 17:41:12 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 17:41:12 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 17:41:12 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:41:12 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:100 |   MongoDB: ‚úÖ Connected
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:100 |   Clerk Auth: ‚úÖ Configured
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:100 |   Gemini AI: ‚úÖ Configured
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:100 |   Storage: ‚úÖ Ready
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:100 |   Embeddings: ‚úÖ Ready
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:100 |   Whisper: ‚úÖ Ready
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:100 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:103 | ================================================================================
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:104 | üìã System Configuration:
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:105 |   üìç Server: 0.0.0.0:8000
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:106 |   üåç Environment: development
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:107 |   üêõ Debug Mode: True
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:108 |   üîê Authentication: Clerk
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:109 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:110 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:111 |   üé§ Transcription: Whisper (base)
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:112 |   üíæ Database: spectraai
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:113 |   üì¶ Storage: storage
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:114 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:115 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:116 |   üëë Admin Users: 0
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:119 | ‚úÖ Application startup completed successfully
2025-12-26 17:41:12 | INFO     | spectraai | lifespan:120 | ================================================================================
2025-12-26 17:41:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /health | IP: 127.0.0.1
2025-12-26 17:41:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /health | Status: 200 | Duration: 0.001s
2025-12-26 17:41:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:41:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 17:41:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/stats | IP: 127.0.0.1
2025-12-26 17:41:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/stats | Status: 200 | Duration: 0.002s
2025-12-26 17:41:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:41:31 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:41:31 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:41:31 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:31 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:41:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:32 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.418s
2025-12-26 17:41:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:41:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 17:41:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:41:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 17:41:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:41:34 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:41:34 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:41:34 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:34 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:41:35 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:41:35 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:41:35 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:35 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:41:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:41:35 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:41:35 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:41:35 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:35 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:36 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:41:36 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:41:36 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:36 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:41:38 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | ERROR    | spectraai | get_user_conversations:141 | Error fetching conversations: object list can't be used in 'await' expression
2025-12-26 17:41:38 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:41:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.889s
2025-12-26 17:41:38 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:41:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.948s
2025-12-26 17:41:38 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 2.121s
2025-12-26 17:41:38 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:41:38 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/ | IP: 127.0.0.1
2025-12-26 17:41:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/ | Status: 200 | Duration: 0.002s
2025-12-26 17:41:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:41:38 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:41:38 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:41:38 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:38 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:40 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.413s
2025-12-26 17:41:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:41:40 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:41:40 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:41:40 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:40 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:41 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:41:41 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:41 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:41 | INFO     | spectraai | send_message:86 | Chat request from user user_374muXfcwYvRdvcssv16x1WRLNP: hey...
2025-12-26 17:41:41 | INFO     | spectraai | send_message:94 | ü§ñ Using model: gemini-2.5-flash
2025-12-26 17:41:41 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 17:41:41 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:41:41 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:41 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:41:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 2.593s
2025-12-26 17:41:44 | ERROR    | spectraai | save_message:72 | Error saving message: object InsertOneResult can't be used in 'await' expression
2025-12-26 17:41:44 | ERROR    | spectraai | send_message:139 | ‚ùå Error in chat endpoint: object InsertOneResult can't be used in 'await' expression
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\routes\chat.py", line 114, in send_message
    await chat_service.save_message(
  File "R:\2025\Projects\Spectra-AI\backend\services\chat_service.py", line 50, in save_message
    await self.db.messages.insert_one(message)
TypeError: object InsertOneResult can't be used in 'await' expression
2025-12-26 17:41:44 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 500 | Path: /api/chat/ | Detail: Failed to generate response: object InsertOneResult can't be used in 'await' expression
2025-12-26 17:41:44 | ERROR    | spectraai | request_logger_middleware:227 | ‚ùå POST /api/chat/ | Status: 500 | Duration: 5.146s
2025-12-26 17:42:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:42:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:42:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:42:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:42:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:42:34 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:42:34 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:42:34 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:42:34 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:42:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:42:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:42:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:42:35 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:42:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.494s
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:131 | ================================================================================
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:132 | üõë Shutting down application...
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:133 | ‚è∞ Shutdown Time: 2025-12-26T12:12:41.469719
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:134 | ================================================================================
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:138 | üìä Disconnecting from MongoDB...
2025-12-26 17:42:41 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 17:42:41 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 17:42:41 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:140 | ‚úÖ MongoDB disconnected
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:143 | üßπ Clearing rate limit cache...
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:145 | ‚úÖ Cache cleared
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:147 | ================================================================================
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:148 | ‚úÖ Application shutdown completed successfully
2025-12-26 17:42:41 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 17:42:44 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:42:44 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:42:47 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 17:42:47 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 17:42:47 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 17:42:47 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:42:47 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:42:47 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 17:42:47 | INFO     | spectraai | <module>:184 | ‚úÖ Error handlers registered
2025-12-26 17:42:47 | INFO     | spectraai | <module>:200 | ‚úÖ CORS middleware configured
2025-12-26 17:42:47 | INFO     | spectraai | <module>:282 | ‚úÖ All routes registered
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T12:12:47.928487
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 17:42:47 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 17:42:47 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 17:42:47 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 17:42:47 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 17:42:47 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:42:47 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:100 |   MongoDB: ‚úÖ Connected
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:100 |   Clerk Auth: ‚úÖ Configured
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:100 |   Gemini AI: ‚úÖ Configured
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:100 |   Storage: ‚úÖ Ready
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:100 |   Embeddings: ‚úÖ Ready
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:100 |   Whisper: ‚úÖ Ready
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:100 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:103 | ================================================================================
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:104 | üìã System Configuration:
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:105 |   üìç Server: 0.0.0.0:8000
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:106 |   üåç Environment: development
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:107 |   üêõ Debug Mode: True
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:108 |   üîê Authentication: Clerk
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:109 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:110 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:111 |   üé§ Transcription: Whisper (base)
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:112 |   üíæ Database: spectraai
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:113 |   üì¶ Storage: storage
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:114 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:115 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:116 |   üëë Admin Users: 0
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:119 | ‚úÖ Application startup completed successfully
2025-12-26 17:42:47 | INFO     | spectraai | lifespan:120 | ================================================================================
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:131 | ================================================================================
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:132 | üõë Shutting down application...
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:133 | ‚è∞ Shutdown Time: 2025-12-26T12:12:51.282125
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:134 | ================================================================================
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:138 | üìä Disconnecting from MongoDB...
2025-12-26 17:42:51 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 17:42:51 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 17:42:51 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:140 | ‚úÖ MongoDB disconnected
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:143 | üßπ Clearing rate limit cache...
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:145 | ‚úÖ Cache cleared
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:147 | ================================================================================
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:148 | ‚úÖ Application shutdown completed successfully
2025-12-26 17:42:51 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 17:43:01 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:43:01 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:43:02 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 17:43:02 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 17:43:02 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 17:43:02 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:43:03 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:43:03 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 17:43:03 | INFO     | spectraai | <module>:184 | ‚úÖ Error handlers registered
2025-12-26 17:43:03 | INFO     | spectraai | <module>:200 | ‚úÖ CORS middleware configured
2025-12-26 17:43:03 | INFO     | spectraai | <module>:282 | ‚úÖ All routes registered
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T12:13:03.054156
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 17:43:03 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 17:43:03 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 17:43:03 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 17:43:03 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 17:43:03 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:43:03 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:100 |   MongoDB: ‚úÖ Connected
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:100 |   Clerk Auth: ‚úÖ Configured
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:100 |   Gemini AI: ‚úÖ Configured
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:100 |   Storage: ‚úÖ Ready
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:100 |   Embeddings: ‚úÖ Ready
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:100 |   Whisper: ‚úÖ Ready
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:100 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:103 | ================================================================================
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:104 | üìã System Configuration:
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:105 |   üìç Server: 0.0.0.0:8000
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:106 |   üåç Environment: development
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:107 |   üêõ Debug Mode: True
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:108 |   üîê Authentication: Clerk
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:109 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:110 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:111 |   üé§ Transcription: Whisper (base)
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:112 |   üíæ Database: spectraai
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:113 |   üì¶ Storage: storage
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:114 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:115 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:116 |   üëë Admin Users: 0
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:119 | ‚úÖ Application startup completed successfully
2025-12-26 17:43:03 | INFO     | spectraai | lifespan:120 | ================================================================================
2025-12-26 17:43:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:43:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 17:43:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:43:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 17:43:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:43:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 17:43:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:43:18 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:18 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:18 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:18 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:43:19 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:19 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:19 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:19 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:43:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:43:20 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:20 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:20 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:20 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:20 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:20 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:20 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:20 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:22 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/conversations | Detail: Conversation not found
2025-12-26 17:43:22 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 404 | Duration: 3.345s
2025-12-26 17:43:22 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:22 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.671s
2025-12-26 17:43:22 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:22 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:22 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 2.636s
2025-12-26 17:43:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:43:22 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:22 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:22 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:22 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:24 | INFO     | spectraai | chat:75 | ‚úÖ New conversation created: b62802a0-99ab-47ec-90ab-3a2384cff039
2025-12-26 17:43:24 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 17:43:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.940s
2025-12-26 17:43:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:43:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:25 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:25 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:25 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:26 | INFO     | spectraai | chat:138 | ‚úÖ Chat response generated for conversation: b62802a0-99ab-47ec-90ab-3a2384cff039
2025-12-26 17:43:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.372s
2025-12-26 17:43:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:43:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | IP: 127.0.0.1
2025-12-26 17:43:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:43:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | Status: 200 | Duration: 0.007s
2025-12-26 17:43:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | IP: 127.0.0.1
2025-12-26 17:43:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.575s
2025-12-26 17:43:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | Status: 200 | Duration: 0.008s
2025-12-26 17:43:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | IP: 127.0.0.1
2025-12-26 17:43:27 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | Detail: Not Found
2025-12-26 17:43:27 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | Status: 404 | Duration: 0.002s
2025-12-26 17:43:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | IP: 127.0.0.1
2025-12-26 17:43:27 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | Detail: Not Found
2025-12-26 17:43:27 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | Status: 404 | Duration: 0.001s
2025-12-26 17:43:28 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:28 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:28 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:28 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/conversations | Detail: Conversation not found
2025-12-26 17:43:28 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 404 | Duration: 1.173s
2025-12-26 17:43:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:43:28 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:28 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:28 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:28 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:29 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:29 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:29 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:29 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 2.774s
2025-12-26 17:43:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:43:29 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:43:29 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:43:29 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:29 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:30 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/conversations | Detail: Conversation not found
2025-12-26 17:43:30 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations | Status: 404 | Duration: 1.880s
2025-12-26 17:43:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:43:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:30 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:43:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 1.076s
2025-12-26 17:43:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:43:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 17:44:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:44:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 17:44:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:44:19 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:44:19 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:44:19 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:44:19 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:44:21 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:44:21 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:44:21 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:44:21 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:44:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.009s
2025-12-26 17:44:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:44:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:131 | ================================================================================
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:132 | üõë Shutting down application...
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:133 | ‚è∞ Shutdown Time: 2025-12-26T12:14:58.420969
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:134 | ================================================================================
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:138 | üìä Disconnecting from MongoDB...
2025-12-26 17:44:58 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 17:44:58 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 17:44:58 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:140 | ‚úÖ MongoDB disconnected
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:143 | üßπ Clearing rate limit cache...
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:145 | ‚úÖ Cache cleared
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:147 | ================================================================================
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:148 | ‚úÖ Application shutdown completed successfully
2025-12-26 17:44:58 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 17:45:01 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:45:01 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:45:05 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 17:45:05 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 17:45:05 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 17:45:05 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:45:05 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 17:45:05 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 17:45:05 | INFO     | spectraai | <module>:184 | ‚úÖ Error handlers registered
2025-12-26 17:45:05 | INFO     | spectraai | <module>:200 | ‚úÖ CORS middleware configured
2025-12-26 17:45:05 | INFO     | spectraai | <module>:282 | ‚úÖ All routes registered
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T12:15:05.242947
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 17:45:05 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 17:45:05 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 17:45:05 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 17:45:05 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 17:45:05 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 17:45:05 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:100 |   MongoDB: ‚úÖ Connected
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:100 |   Clerk Auth: ‚úÖ Configured
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:100 |   Gemini AI: ‚úÖ Configured
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:100 |   Storage: ‚úÖ Ready
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:100 |   Embeddings: ‚úÖ Ready
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:100 |   Whisper: ‚úÖ Ready
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:100 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:103 | ================================================================================
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:104 | üìã System Configuration:
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:105 |   üìç Server: 0.0.0.0:8000
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:106 |   üåç Environment: development
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:107 |   üêõ Debug Mode: True
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:108 |   üîê Authentication: Clerk
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:109 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:110 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:111 |   üé§ Transcription: Whisper (base)
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:112 |   üíæ Database: spectraai
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:113 |   üì¶ Storage: storage
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:114 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:115 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:116 |   üëë Admin Users: 0
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:119 | ‚úÖ Application startup completed successfully
2025-12-26 17:45:05 | INFO     | spectraai | lifespan:120 | ================================================================================
2025-12-26 17:45:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:45:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 17:45:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:45:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 17:45:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:45:14 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:14 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:14 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:14 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:45:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:45:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:45:15 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:15 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:15 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:15 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:15 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:15 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:15 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:15 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:16 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:16 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:16 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:16 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 2.596s
2025-12-26 17:45:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 3.402s
2025-12-26 17:45:18 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:18 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:18 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:18 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.233s
2025-12-26 17:45:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:45:18 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:18 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:18 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:18 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.555s
2025-12-26 17:45:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:45:19 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:19 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:19 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:19 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:20 | INFO     | spectraai | chat:227 | ‚úÖ New conversation created: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:45:20 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 17:45:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:21 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:45:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.313s
2025-12-26 17:45:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:45:21 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:21 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:21 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:21 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 17:45:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:45:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 17:45:22 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:22 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:22 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:22 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 0.762s
2025-12-26 17:45:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.636s
2025-12-26 17:45:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 0.755s
2025-12-26 17:45:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 17:45:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 2.481s
2025-12-26 17:45:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 2 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 1.866s
2025-12-26 17:45:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | get_conversation_by_id:123 | ‚úÖ Fetched conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:45:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 1.140s
2025-12-26 17:45:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 17:45:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:25 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:25 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:25 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:25 | INFO     | spectraai | get_conversation_by_id:123 | ‚úÖ Fetched conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:45:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 1.150s
2025-12-26 17:45:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:45:31 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:45:31 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:45:31 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:31 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:45:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:45:32 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 17:45:38 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:45:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 6.806s
2025-12-26 17:45:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:45:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 17:46:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:46:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 17:46:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:46:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:46:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:46:07 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:07 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:07 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:07 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:46:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:46:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 17:46:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:46:08 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:08 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:08 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:08 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:08 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:08 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:08 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:08 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:11 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:11 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:11 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:11 | INFO     | spectraai | get_conversation_by_id:123 | ‚úÖ Fetched conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:46:11 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 3.697s
2025-12-26 17:46:11 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:11 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 2 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 4.488s
2025-12-26 17:46:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 4.491s
2025-12-26 17:46:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 5.306s
2025-12-26 17:46:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.924s
2025-12-26 17:46:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:46:13 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:13 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:13 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:13 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:14 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:14 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:14 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 2.338s
2025-12-26 17:46:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:46:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:25 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:25 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:25 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:25 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 17:46:29 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:46:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 4.506s
2025-12-26 17:46:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:46:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:46:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:46:53 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:46:53 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:46:53 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:53 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:54 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:46:54 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:54 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:46:54 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 17:46:57 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:46:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.921s
2025-12-26 17:47:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  DELETE /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | IP: 127.0.0.1
2025-12-26 17:47:04 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:47:04 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:47:04 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:04 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:06 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:47:06 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:06 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:06 | INFO     | spectraai | delete_conversation:169 | ‚úÖ Deleted conversation: b62802a0-99ab-47ec-90ab-3a2384cff039
2025-12-26 17:47:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ DELETE /api/chat/conversations/b62802a0-99ab-47ec-90ab-3a2384cff039 | Status: 200 | Duration: 1.692s
2025-12-26 17:47:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:47:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 17:47:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:47:07 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:47:07 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:47:07 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:07 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:47:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:08 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:47:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.275s
2025-12-26 17:47:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:47:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 17:48:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:48:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 17:48:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:48:07 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:48:07 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:48:07 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:48:07 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:48:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:48:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:48:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:48:08 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:48:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.579s
2025-12-26 17:48:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:48:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 17:49:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:49:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 17:49:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:49:07 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:49:07 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:49:07 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:49:07 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:49:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:49:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:49:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:49:08 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:49:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.126s
2025-12-26 17:49:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:49:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 17:50:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:50:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:50:08 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:50:08 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:50:08 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:50:08 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:50:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.656s
2025-12-26 17:50:09 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:50:09 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:50:09 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:50:09 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:50:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.492s
2025-12-26 17:50:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:50:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 17:51:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:51:07 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:51:07 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:51:07 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:51:07 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:51:09 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:51:09 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:51:09 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:51:09 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:51:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.727s
2025-12-26 17:51:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:51:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:52:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:52:07 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:52:07 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:52:07 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:52:07 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:52:09 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:52:09 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:52:09 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:52:09 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:52:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.471s
2025-12-26 17:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 17:53:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:53:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:53:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:53:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:53:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:53:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:53:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:53:56 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:53:56 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:53:56 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:53:56 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:53:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.530s
2025-12-26 17:54:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:54:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 17:54:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:54:27 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:27 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:27 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:27 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:28 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:28 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:28 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:28 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.127s
2025-12-26 17:54:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:54:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 17:54:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:54:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.003s
2025-12-26 17:54:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:54:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:54:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:54:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:54:31 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:31 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:31 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:31 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.637s
2025-12-26 17:54:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.362s
2025-12-26 17:54:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 1.954s
2025-12-26 17:54:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.172s
2025-12-26 17:54:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:54:34 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:34 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:34 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:34 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 1.851s
2025-12-26 17:54:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:54:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.003s
2025-12-26 17:54:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:54:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 17:54:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:54:43 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:43 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:43 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:43 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:54:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:54:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:54:44 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:44 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:44 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:44 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:44 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:44 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:44 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:44 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:45 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:45 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:45 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:45 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:46 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.248s
2025-12-26 17:54:46 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:46 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:46 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:46 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:47 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:47 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:47 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:47 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 3.511s
2025-12-26 17:54:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 3.511s
2025-12-26 17:54:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.962s
2025-12-26 17:54:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:54:48 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:54:48 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:54:48 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:48 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:49 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:54:49 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:49 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:54:50 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 2.484s
2025-12-26 17:55:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:55:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 17:55:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:55:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 17:55:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:55:44 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:55:44 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:55:44 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:55:44 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:55:46 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:55:46 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:55:46 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:55:46 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:55:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.906s
2025-12-26 17:56:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:56:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 17:56:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:56:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 17:56:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:56:44 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:56:44 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:56:44 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:56:44 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:56:45 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:56:45 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:56:45 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:56:45 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:56:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.154s
2025-12-26 17:57:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:57:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 17:57:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:57:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 17:57:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:57:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 17:57:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:57:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 0.001s
2025-12-26 17:57:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/activities | IP: 127.0.0.1
2025-12-26 17:57:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:57:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/activities | Status: 200 | Duration: 0.007s
2025-12-26 17:57:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:57:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:57:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 17:57:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 17:57:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 17:57:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 17:57:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:57:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:57:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:57:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:57:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 17:57:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 1.498s
2025-12-26 17:57:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 1.498s
2025-12-26 17:57:25 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:57:25 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:57:25 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:25 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:57:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:57:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:57:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:57:27 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:57:27 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:57:27 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:57:27 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_conversation_by_id:123 | ‚úÖ Fetched conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:57:27 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.387s
2025-12-26 17:57:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 3.388s
2025-12-26 17:57:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 1.894s
2025-12-26 17:57:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 4.125s
2025-12-26 17:57:27 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:57:27 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:27 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 2.429s
2025-12-26 17:57:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 17:57:29 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:57:29 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:57:29 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:29 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:57:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 2.097s
2025-12-26 17:57:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 17:57:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:57:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:57:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:57:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:57:33 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 17:57:37 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 17:57:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 4.804s
2025-12-26 17:57:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:57:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 17:58:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:58:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 17:58:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:58:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:58:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:58:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:58:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:58:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:58:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:58:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:58:24 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:58:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.496s
2025-12-26 17:58:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:58:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 17:59:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:59:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 17:59:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 17:59:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 17:59:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 17:59:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:59:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:59:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 17:59:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:59:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:59:24 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 17:59:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.513s
2025-12-26 17:59:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 17:59:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 18:00:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:00:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 18:00:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 18:00:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:00:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:00:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:00:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:00:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:00:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:25 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:00:25 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:25 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:25 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 18:00:25 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:00:25 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:25 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:25 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:00:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.598s
2025-12-26 18:00:27 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 18:00:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 4.631s
2025-12-26 18:00:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:00:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 18:01:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:01:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:01:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:01:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:01:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:01:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:01:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:01:26 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:01:26 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:01:26 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:01:26 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:01:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.553s
2025-12-26 18:01:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:01:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 18:02:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:02:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 18:02:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:02:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:02:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:02:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:25 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:02:25 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:25 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:25 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.430s
2025-12-26 18:02:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:02:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 18:02:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 18:02:56 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:02:56 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:02:56 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:56 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:58 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:02:58 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:58 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:02:58 | INFO     | spectraai | get_conversation_by_id:123 | ‚úÖ Fetched conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 18:02:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 2.466s
2025-12-26 18:03:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:03:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 18:03:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:03:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 18:03:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 18:03:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:03:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:03:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:03:11 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:03:11 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:03:11 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:11 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:03:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 18:03:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 18:03:12 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:03:12 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:03:12 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:12 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:14 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:03:14 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:03:14 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:14 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:16 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:03:16 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:03:16 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:16 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/preferences | IP: 127.0.0.1
2025-12-26 18:03:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/preferences | Status: 200 | Duration: 0.003s
2025-12-26 18:03:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  PATCH /api/auth/preferences | IP: 127.0.0.1
2025-12-26 18:03:18 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:03:18 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:03:18 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:18 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:03:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_conversation_by_id:123 | ‚úÖ Fetched conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 18:03:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:03:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:03:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 7.353s
2025-12-26 18:03:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 7.367s
2025-12-26 18:03:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ PATCH /api/auth/preferences | Status: 200 | Duration: 2.154s
2025-12-26 18:03:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:03:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 9.121s
2025-12-26 18:03:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:03:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:22 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:03:22 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:22 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:22 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 12.510s
2025-12-26 18:03:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 9.610s
2025-12-26 18:03:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:03:22 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:03:22 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:03:22 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:22 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:03:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:03:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.467s
2025-12-26 18:03:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:03:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 18:04:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:04:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:04:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:04:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:04:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:04:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:04:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:04:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:04:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:04:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:04:12 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:04:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.486s
2025-12-26 18:04:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:04:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 18:04:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/videos/youtube | IP: 127.0.0.1
2025-12-26 18:04:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/videos/youtube | Status: 200 | Duration: 0.003s
2025-12-26 18:04:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 18:04:39 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 405 | Path: /api/videos/youtube | Detail: Method Not Allowed
2025-12-26 18:04:39 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/videos/youtube | Status: 405 | Duration: 0.065s
2025-12-26 18:05:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:05:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 18:05:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:05:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:05:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:05:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:05:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:05:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:05:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:05:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:05:12 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:05:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.610s
2025-12-26 18:05:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:05:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 18:05:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 18:05:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:05:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:05:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:05:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:00 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:06:00 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:00 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:00 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 18:06:07 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 18:06:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 15.505s
2025-12-26 18:06:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:06:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 18:06:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:06:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:06:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:06:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:13 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:06:13 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:13 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:13 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:06:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.898s
2025-12-26 18:06:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:06:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:07:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:07:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:07:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:07:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:07:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:07:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:07:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:07:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:07:12 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:07:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.530s
2025-12-26 18:07:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:07:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 18:08:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:08:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:08:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:08:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:08:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:08:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:08:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:08:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:08:12 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:08:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.357s
2025-12-26 18:08:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:08:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 18:09:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:09:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:09:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:09:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:09:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:09:13 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:09:13 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:09:13 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:09:13 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:09:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 3.025s
2025-12-26 18:09:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:09:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 18:10:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:10:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:10:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:10:17 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:10:17 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:10:17 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:10:17 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:10:19 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:10:19 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:10:19 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:10:19 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:10:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.559s
2025-12-26 18:10:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:10:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 18:10:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 18:10:49 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 405 | Path: /api/videos/youtube | Detail: Method Not Allowed
2025-12-26 18:10:49 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/videos/youtube | Status: 405 | Duration: 0.004s
2025-12-26 18:11:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:11:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 18:11:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:11:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:11:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:11:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:11:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:11:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:11:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:11:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:11:12 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:11:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.394s
2025-12-26 18:11:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:11:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 18:12:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:12:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:12:40 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:12:40 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:12:40 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:12:40 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:12:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 2.195s
2025-12-26 18:12:43 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:12:43 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:12:43 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:12:43 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:12:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.984s
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:131 | ================================================================================
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:132 | üõë Shutting down application...
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:133 | ‚è∞ Shutdown Time: 2025-12-26T12:43:39.075561
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:134 | ================================================================================
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:138 | üìä Disconnecting from MongoDB...
2025-12-26 18:13:39 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 18:13:39 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 18:13:39 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:140 | ‚úÖ MongoDB disconnected
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:143 | üßπ Clearing rate limit cache...
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:145 | ‚úÖ Cache cleared
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:147 | ================================================================================
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:148 | ‚úÖ Application shutdown completed successfully
2025-12-26 18:13:39 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 18:13:43 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:13:43 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:13:47 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:17:37 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:17:37 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:17:42 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:18:12 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:18:13 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:18:19 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:22:47 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:22:47 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:22:50 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:22:50 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 18:22:51 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 18:22:51 | WARNING  | spectraai | __init__:24 | ‚ö†Ô∏è YouTube API key not found, metadata features will be limited
2025-12-26 18:22:51 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:22:51 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:22:51 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 18:22:51 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 18:22:51 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 18:22:51 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T12:52:51.411860
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 18:22:51 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 18:22:51 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 18:22:51 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 18:22:51 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 18:22:51 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:22:51 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 18:22:51 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 18:22:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:22:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:22:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:22:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:22:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:22:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:22:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.862s
2025-12-26 18:22:53 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:22:53 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:22:53 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:22:53 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:22:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.649s
2025-12-26 18:23:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET / | IP: 127.0.0.1
2025-12-26 18:23:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET / | Status: 200 | Duration: 0.005s
2025-12-26 18:23:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /favicon.ico | IP: 127.0.0.1
2025-12-26 18:23:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /favicon.ico | Detail: Not Found
2025-12-26 18:23:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /favicon.ico | Status: 404 | Duration: 0.003s
2025-12-26 18:23:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:23:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.039s
2025-12-26 18:23:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:23:49 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:23:49 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:23:49 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:49 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:23:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 18:23:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:23:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.033s
2025-12-26 18:23:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 18:23:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:23:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:23:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:23:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:53 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:23:53 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:23:53 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:53 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:23:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:55 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  PATCH /api/auth/preferences | IP: 127.0.0.1
2025-12-26 18:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 18:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/activities | IP: 127.0.0.1
2025-12-26 18:23:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 6.139s
2025-12-26 18:23:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:23:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:23:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:57 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:23:57 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:23:57 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:57 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:58 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:23:58 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:23:58 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:58 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:59 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:23:59 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:23:59 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:23:59 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:01 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:01 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 9.998s
2025-12-26 18:24:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 10.006s
2025-12-26 18:24:01 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:01 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:01 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | get_conversation_by_id:123 | ‚úÖ Fetched conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 18:24:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | get_activities:91 | ‚úÖ Fetched 0 activities for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:03 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ PATCH /api/auth/preferences | Status: 200 | Duration: 8.111s
2025-12-26 18:24:03 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 8.109s
2025-12-26 18:24:03 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/activities | Status: 200 | Duration: 8.110s
2025-12-26 18:24:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 8.555s
2025-12-26 18:24:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:24:04 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:24:04 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:24:04 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:04 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:06 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:06 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:06 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.414s
2025-12-26 18:24:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 18:24:18 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:24:18 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:24:18 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:18 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:20 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 18:24:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:24:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 18:24:23 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 18:24:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 5.030s
2025-12-26 18:24:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 18:24:35 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:24:35 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:24:35 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:35 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:37 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:37 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:37 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:37 | WARNING  | spectraai | validation_exception_handler:266 | Validation error: /api/videos/youtube | Method: POST | Errors: 1
2025-12-26 18:24:37 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/videos/youtube | Status: 422 | Duration: 2.180s
2025-12-26 18:24:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:24:50 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 18:24:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:24:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:24:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:24:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:53 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:24:53 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:53 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:53 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:24:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.165s
2025-12-26 18:25:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:25:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 18:25:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:25:50 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.025s
2025-12-26 18:25:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:25:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:25:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:25:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:25:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:25:54 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:25:54 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:25:54 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:25:54 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:25:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.529s
2025-12-26 18:26:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:26:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 18:26:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:26:50 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 18:26:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:26:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:26:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:26:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:26:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:26:53 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:26:53 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:26:53 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:26:53 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:26:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.156s
2025-12-26 18:27:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:27:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 18:27:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:27:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.020s
2025-12-26 18:27:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:27:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:27:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:27:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:27:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:27:53 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:27:53 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:27:53 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:27:53 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:27:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 1.483s
2025-12-26 18:28:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET / | IP: 127.0.0.1
2025-12-26 18:28:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET / | Status: 200 | Duration: 0.003s
2025-12-26 18:28:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET / | IP: 127.0.0.1
2025-12-26 18:28:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET / | Status: 200 | Duration: 0.005s
2025-12-26 18:28:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:28:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:28:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:28:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:28:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:28:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:28:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.873s
2025-12-26 18:28:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:28:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:28:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:28:55 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:28:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.673s
2025-12-26 18:29:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:29:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:29:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:29:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:29:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:29:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:29:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:29:54 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:29:54 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:29:54 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:29:54 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:29:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.661s
2025-12-26 18:30:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:30:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:30:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:30:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 18:30:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/stats | IP: 127.0.0.1
2025-12-26 18:30:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:30:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:30:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:30:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:30:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:30:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:30:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:30:55 | INFO     | spectraai | get_user_stats:262 | ‚úÖ Stats fetched for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:30:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/stats | Status: 200 | Duration: 2.851s
2025-12-26 18:31:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:31:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 18:31:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:31:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.028s
2025-12-26 18:31:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 18:31:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:31:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:31:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:31:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:31:54 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:31:54 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:31:54 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:31:54 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:31:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 1.774s
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:11:37.568624
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 18:41:37 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 18:41:37 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 18:41:37 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 18:41:37 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 18:41:46 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:41:46 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:41:48 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:41:48 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 18:41:48 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 18:41:48 | WARNING  | spectraai | __init__:24 | ‚ö†Ô∏è YouTube API key not found, metadata features will be limited
2025-12-26 18:41:48 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:41:49 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:41:49 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 18:41:49 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 18:41:49 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 18:41:49 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:11:49.096852
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 18:41:49 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 18:41:49 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 18:41:49 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 18:41:49 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 18:41:49 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:41:49 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 18:41:49 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /stats | IP: 127.0.0.1
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/ | IP: 127.0.0.1
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:42:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /stats | Status: 200 | Duration: 0.009s
2025-12-26 18:42:44 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:42:44 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:42:44 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:42:44 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:42:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/ | Status: 200 | Duration: 1.990s
2025-12-26 18:42:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 18:42:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 18:42:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.037s
2025-12-26 18:42:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/history/ | Detail: Not Found
2025-12-26 18:42:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/ | Status: 404 | Duration: 0.010s
2025-12-26 18:42:47 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:42:47 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:42:47 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:42:50 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 5.644s
2025-12-26 18:42:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 18:42:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 18:42:58 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:42:58 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:42:58 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:42:58 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:00 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/history/ | Detail: Not Found
2025-12-26 18:43:00 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/ | Status: 404 | Duration: 1.683s
2025-12-26 18:43:00 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:43:00 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:00 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:00 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 2.161s
2025-12-26 18:43:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 18:43:00 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:43:00 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:43:00 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:00 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/ | IP: 127.0.0.1
2025-12-26 18:43:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/ | Status: 200 | Duration: 0.008s
2025-12-26 18:43:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 18:43:02 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:43:02 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:43:02 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:02 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:04 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:43:04 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:04 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:04 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 1 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.874s
2025-12-26 18:43:04 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:43:04 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:04 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:04 | INFO     | spectraai | chat:227 | ‚úÖ New conversation created: caa20587-2cdc-4b1e-8b02-3e067bad13a8
2025-12-26 18:43:04 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 18:43:06 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: caa20587-2cdc-4b1e-8b02-3e067bad13a8
2025-12-26 18:43:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 4.071s
2025-12-26 18:43:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 18:43:13 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:43:13 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:43:13 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:13 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:43:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 18:43:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:43:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:43:15 | INFO     | spectraai | chat:227 | ‚úÖ New conversation created: b68d6354-019b-4824-9cb3-62bc7041dea2
2025-12-26 18:43:15 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 18:43:16 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: b68d6354-019b-4824-9cb3-62bc7041dea2
2025-12-26 18:43:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.105s
2025-12-26 18:43:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:43:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 18:43:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 18:43:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.021s
2025-12-26 18:44:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:44:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 18:44:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:44:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:44:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 18:44:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 18:44:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:44:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 18:44:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:44:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 18:44:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 18:44:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:44:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:44:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:44:53 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:44:53 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:44:53 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:53 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:44:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 18:44:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:44:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:44:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:44:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 2.156s
2025-12-26 18:44:57 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:44:57 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:44:57 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:57 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 18:44:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:44:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.028s
2025-12-26 18:44:59 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:44:59 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:44:59 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:44:59 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 18:45:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 18:45:01 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/history/ | Detail: Not Found
2025-12-26 18:45:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.029s
2025-12-26 18:45:01 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/ | Status: 404 | Duration: 0.029s
2025-12-26 18:45:01 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:45:01 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:01 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:45:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:45:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:45:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:45:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:03 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 3 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:03 | INFO     | spectraai | chat:227 | ‚úÖ New conversation created: 5604d218-4e4b-4e7e-892d-ed036a81c141
2025-12-26 18:45:03 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 18:45:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:05 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:05 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:05 | INFO     | spectraai | get_conversations:64 | ‚úÖ Fetched 4 conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:05 | INFO     | spectraai | chat:286 | ‚úÖ Chat response generated for conversation: 5604d218-4e4b-4e7e-892d-ed036a81c141
2025-12-26 18:45:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 13.537s
2025-12-26 18:45:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 10.547s
2025-12-26 18:45:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 6.494s
2025-12-26 18:45:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 12.668s
2025-12-26 18:45:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 9.088s
2025-12-26 18:45:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:45:06 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:45:06 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:45:06 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:06 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:45:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:45:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.587s
2025-12-26 18:45:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:45:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 18:45:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:45:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 18:45:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:45:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.061s
2025-12-26 18:46:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:46:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 18:46:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:46:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 18:47:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:47:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 18:47:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:47:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 18:48:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:48:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 18:48:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:48:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 18:49:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:49:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:20:30.293302
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 18:50:30 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 18:50:30 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 18:50:30 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 18:50:30 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 18:50:34 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:50:34 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:50:40 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:50:40 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 18:50:40 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 18:50:40 | WARNING  | spectraai | __init__:24 | ‚ö†Ô∏è YouTube API key not found, metadata features will be limited
2025-12-26 18:50:40 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:50:40 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:50:40 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 18:50:40 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 18:50:40 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 18:50:40 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 18:50:40 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 18:50:40 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 18:50:40 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:20:40.986642
2025-12-26 18:50:40 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 18:50:40 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 18:50:40 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 18:50:40 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 18:50:41 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 18:50:41 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 18:50:41 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:50:41 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 18:50:41 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 18:50:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:50:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:21:43.234729
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 18:51:43 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 18:51:43 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 18:51:43 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 18:51:43 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 18:51:46 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:51:46 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:51:53 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:51:53 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 18:51:53 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 18:51:53 | WARNING  | spectraai | __init__:24 | ‚ö†Ô∏è YouTube API key not found, metadata features will be limited
2025-12-26 18:51:53 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:51:53 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:51:53 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 18:51:53 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 18:51:53 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 18:51:53 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:21:53.889594
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 18:51:53 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 18:51:53 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 18:51:53 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 18:51:53 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 18:51:53 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:51:53 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 18:51:53 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 18:51:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:51:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 18:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:53:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 18:54:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:54:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 18:54:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:54:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 18:55:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:55:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 18:55:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:55:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 18:56:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:56:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 18:56:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:56:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 18:57:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:57:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 18:57:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:57:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 18:57:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:57:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:57:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:57:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 18:57:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:57:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 18:58:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:58:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 18:58:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:58:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:28:31.568736
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 18:58:31 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 18:58:31 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 18:58:31 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 18:58:31 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 18:59:33 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:59:33 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:59:36 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 18:59:36 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 18:59:36 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 18:59:36 | WARNING  | spectraai | __init__:24 | ‚ö†Ô∏è YouTube API key not found, metadata features will be limited
2025-12-26 18:59:36 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:59:36 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 18:59:36 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 18:59:36 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 18:59:36 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 18:59:36 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:29:36.526145
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 18:59:36 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 18:59:36 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 18:59:36 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 18:59:36 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 18:59:36 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 18:59:36 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 18:59:36 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 18:59:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:59:40 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 18:59:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.037s
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 18:59:41 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/history/ | Detail: Not Found
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.010s
2025-12-26 18:59:41 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/ | Status: 404 | Duration: 0.010s
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 18:59:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.007s
2025-12-26 18:59:41 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 18:59:41 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 18:59:41 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:59:41 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:59:44 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 18:59:44 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:59:44 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 18:59:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.654s
2025-12-26 18:59:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:59:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 18:59:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 18:59:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 19:00:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/ | IP: 127.0.0.1
2025-12-26 19:00:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/ | Status: 200 | Duration: 0.003s
2025-12-26 19:00:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:00:00 | WARNING  | spectraai | get_current_user:28 | ‚ùå Missing Authorization header
2025-12-26 19:00:00 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 401 | Path: /api/chat/ | Detail: Missing authorization header
2025-12-26 19:00:00 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 401 | Duration: 0.021s
2025-12-26 19:00:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:00:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 19:00:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:00:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 19:00:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:00:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:00:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.031s
2025-12-26 19:00:13 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/history/ | Detail: Not Found
2025-12-26 19:00:13 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/ | Status: 404 | Duration: 0.012s
2025-12-26 19:00:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:00:13 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:13 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:13 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:13 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:00:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:00:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 0.004s
2025-12-26 19:00:15 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/history/ | Detail: Not Found
2025-12-26 19:00:15 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/ | Status: 404 | Duration: 0.006s
2025-12-26 19:00:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:00:15 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:15 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:15 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:15 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:00:19 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:19 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:19 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:19 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:00:20 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:20 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:20 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:20 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 9.886s
2025-12-26 19:00:23 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:23 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 4 conversations (total: 4)
2025-12-26 19:00:23 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 7.725s
2025-12-26 19:00:23 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | chat:372 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | chat:403 | ‚úÖ New conversation created: 035bc447-0362-4701-a880-39b07f03737c
2025-12-26 19:00:23 | INFO     | spectraai | chat:432 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 19:00:23 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 19:00:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:00:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:24 | INFO     | spectraai | chat:372 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:24 | INFO     | spectraai | chat:403 | ‚úÖ New conversation created: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:00:24 | INFO     | spectraai | chat:432 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 19:00:24 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 19:00:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:00:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:26 | INFO     | spectraai | chat:440 | ‚úÖ AI response generated (79 chars)
2025-12-26 19:00:26 | INFO     | spectraai | chat:477 | ‚úÖ Messages saved to conversation: 035bc447-0362-4701-a880-39b07f03737c
2025-12-26 19:00:26 | INFO     | spectraai | chat:440 | ‚úÖ AI response generated (36 chars)
2025-12-26 19:00:26 | INFO     | spectraai | chat:477 | ‚úÖ Messages saved to conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:00:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 7.642s
2025-12-26 19:00:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 5.843s
2025-12-26 19:00:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:00:26 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/history/ | Detail: Not Found
2025-12-26 19:00:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | IP: 127.0.0.1
2025-12-26 19:00:26 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/history/ | Status: 404 | Duration: 0.010s
2025-12-26 19:00:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | Status: 200 | Duration: 0.007s
2025-12-26 19:00:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | IP: 127.0.0.1
2025-12-26 19:00:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:28 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:28 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:28 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:28 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:30 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:30 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 6 conversations (total: 6)
2025-12-26 19:00:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 5.714s
2025-12-26 19:00:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:00:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 9.638s
2025-12-26 19:00:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:33 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:00:33 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:00:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | Status: 200 | Duration: 6.062s
2025-12-26 19:00:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | IP: 127.0.0.1
2025-12-26 19:00:33 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:00:33 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:00:33 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:33 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:34 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:34 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:34 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:34 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:34 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 6 conversations (total: 6)
2025-12-26 19:00:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.109s
2025-12-26 19:00:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:00:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:00:35 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:00:35 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:00:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | Status: 200 | Duration: 2.253s
2025-12-26 19:00:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:00:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 19:01:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 19:01:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:01:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:01:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:01:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:01:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:01:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 19:01:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:01:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.027s
2025-12-26 19:01:13 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:01:13 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:01:13 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:01:13 | INFO     | spectraai | upload_youtube_video:133 | üìπ Processing YouTube video: https://www.youtube.com/watch?v=DC0ZXApgheg
2025-12-26 19:01:13 | INFO     | spectraai | extract_video_id:63 | ‚úÖ Extracted video ID: DC0ZXApgheg
2025-12-26 19:01:13 | INFO     | spectraai | upload_youtube_video:143 | ‚úÖ Extracted video ID: DC0ZXApgheg
2025-12-26 19:01:13 | WARNING  | spectraai | get_video_info:186 | ‚ö†Ô∏è YouTube API not available, cannot fetch metadata
2025-12-26 19:01:13 | INFO     | spectraai | upload_youtube_video:149 | üìù Video title: YouTube Video DC0ZXApgheg
2025-12-26 19:01:13 | INFO     | spectraai | get_transcript:93 | üìù Fetching transcript for video: DC0ZXApgheg
2025-12-26 19:01:16 | WARNING  | spectraai | get_transcript:112 | ‚ö†Ô∏è No transcript in preferred languages, trying all available...
2025-12-26 19:01:21 | WARNING  | spectraai | get_transcript:127 | ‚ö†Ô∏è Failed to fetch transcript in Hindi (auto-generated): no element found: line 1, column 0
2025-12-26 19:01:21 | ERROR    | spectraai | get_transcript:130 | ‚ùå No transcripts available for this video
2025-12-26 19:01:21 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/videos/youtube | Detail: Could not fetch transcript for this video. The video may not have captions available.
2025-12-26 19:01:21 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/videos/youtube | Status: 404 | Duration: 10.728s
2025-12-26 19:01:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:01:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 19:02:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:02:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 19:02:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:02:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.018s
2025-12-26 19:02:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:02:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:33:08.949977
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 19:03:08 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 19:03:08 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 19:03:08 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 19:03:08 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 19:03:14 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:03:14 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:03:21 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 19:03:31 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:03:31 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:03:35 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 19:03:40 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:03:40 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:03:45 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 19:03:53 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:03:53 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:04:00 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 19:04:04 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:04:04 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:04:11 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 19:05:33 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:05:33 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:05:36 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 19:05:36 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 19:05:36 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 19:05:36 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 19:05:36 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 19:05:36 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 19:05:36 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 19:05:36 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:35:36.703203
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 19:05:36 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 19:05:36 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 19:05:36 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 19:05:36 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 19:05:36 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:05:36 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 19:05:36 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:35:41.059305
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 19:05:41 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 19:05:41 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 19:05:41 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 19:05:41 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 19:05:42 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:05:42 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:05:50 | INFO     | spectraai | __init__:20 | ‚úÖ Gemini AI service initialized with model: gemini-2.5-flash
2025-12-26 19:05:50 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 19:05:50 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 19:05:50 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 19:05:50 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 19:05:50 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 19:05:50 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 19:05:50 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:35:50.665345
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 19:05:50 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 19:05:50 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 19:05:50 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 19:05:50 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 19:05:50 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:05:50 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 19:05:50 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 19:05:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | IP: 127.0.0.1
2025-12-26 19:05:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:05:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:05:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:05:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:05:50 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:05:50 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:05:50 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:50 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:53 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:05:53 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:05:53 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:53 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:05:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:05:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.472s
2025-12-26 19:05:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 6.470s
2025-12-26 19:05:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:05:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.025s
2025-12-26 19:05:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:05:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.044s
2025-12-26 19:05:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:05:57 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:05:57 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:05:57 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:57 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:59 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:05:59 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:59 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:05:59 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:05:59 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:06:00 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:00 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:00 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:00 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:00 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 6 conversations (total: 6)
2025-12-26 19:06:00 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:00 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:00 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:01 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | Status: 200 | Duration: 11.061s
2025-12-26 19:06:01 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:01 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 11.073s
2025-12-26 19:06:02 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:06:02 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:06:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.620s
2025-12-26 19:06:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 11.655s
2025-12-26 19:06:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:06:02 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:06:02 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:06:02 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:02 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:05 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:05 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:05 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.729s
2025-12-26 19:06:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:06:14 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:06:14 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:06:14 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:14 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:06:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 19:06:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:17 | INFO     | spectraai | chat:372 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:17 | INFO     | spectraai | chat:389 | üìÇ Using existing conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:06:17 | INFO     | spectraai | chat:432 | ü§ñ Generating AI response (history: 2 messages)
2025-12-26 19:06:17 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 19:06:20 | INFO     | spectraai | chat:440 | ‚úÖ AI response generated (69 chars)
2025-12-26 19:06:20 | INFO     | spectraai | chat:477 | ‚úÖ Messages saved to conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:06:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 6.035s
2025-12-26 19:06:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:06:36 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:06:36 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:06:36 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:36 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:38 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:38 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:38 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:38 | INFO     | spectraai | chat:372 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:38 | INFO     | spectraai | chat:389 | üìÇ Using existing conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:06:38 | INFO     | spectraai | chat:432 | ü§ñ Generating AI response (history: 4 messages)
2025-12-26 19:06:38 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 19:06:39 | INFO     | spectraai | chat:440 | ‚úÖ AI response generated (56 chars)
2025-12-26 19:06:39 | INFO     | spectraai | chat:477 | ‚úÖ Messages saved to conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:06:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.500s
2025-12-26 19:06:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:06:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 19:06:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/videos/youtube | IP: 127.0.0.1
2025-12-26 19:06:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/videos/youtube | Status: 200 | Duration: 0.001s
2025-12-26 19:06:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 19:06:49 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:06:49 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:06:49 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:49 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:51 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:51 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:51 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:51 | INFO     | spectraai | upload_youtube_video:52 | üé• Processing YouTube video: https://www.youtube.com/watch?v=DC0ZXApgheg
2025-12-26 19:06:51 | INFO     | spectraai | process_youtube:33 | üìπ Extracting YouTube video ID: DC0ZXApgheg
2025-12-26 19:06:52 | WARNING  | spectraai | process_youtube:41 | ‚ö†Ô∏è Could not get video info: HTTP Error 400: Bad Request
2025-12-26 19:06:55 | WARNING  | spectraai | process_youtube:51 | ‚ö†Ô∏è Could not get transcript: 
Could not retrieve a transcript for the video https://www.youtube.com/watch?v=DC0ZXApgheg! This is most likely caused by:

No transcripts were found for any of the requested language codes: ('en',)

For this video (DC0ZXApgheg) transcripts are available in the following languages:

(MANUALLY CREATED)
None

(GENERATED)
 - hi ("Hindi (auto-generated)")[TRANSLATABLE]

(TRANSLATION LANGUAGES)
 - ab ("Abkhazian")
 - aa ("Afar")
 - af ("Afrikaans")
 - ak ("Akan")
 - sq ("Albanian")
 - am ("Amharic")
 - ar ("Arabic")
 - hy ("Armenian")
 - as ("Assamese")
 - ay ("Aymara")
 - az ("Azerbaijani")
 - bn ("Bangla")
 - ba ("Bashkir")
 - eu ("Basque")
 - be ("Belarusian")
 - bho ("Bhojpuri")
 - bs ("Bosnian")
 - br ("Breton")
 - bg ("Bulgarian")
 - my ("Burmese")
 - ca ("Catalan")
 - ceb ("Cebuano")
 - zh-Hans ("Chinese (Simplified)")
 - zh-Hant ("Chinese (Traditional)")
 - co ("Corsican")
 - hr ("Croatian")
 - cs ("Czech")
 - da ("Danish")
 - dv ("Divehi")
 - nl ("Dutch")
 - dz ("Dzongkha")
 - en ("English")
 - eo ("Esperanto")
 - et ("Estonian")
 - ee ("Ewe")
 - fo ("Faroese")
 - fj ("Fijian")
 - fil ("Filipino")
 - fi ("Finnish")
 - fr ("French")
 - gaa ("Ga")
 - gl ("Galician")
 - lg ("Ganda")
 - ka ("Georgian")
 - de ("German")
 - el ("Greek")
 - gn ("Guarani")
 - gu ("Gujarati")
 - ht ("Haitian Creole")
 - ha ("Hausa")
 - haw ("Hawaiian")
 - iw ("Hebrew")
 - hi ("Hindi")
 - hmn ("Hmong")
 - hu ("Hungarian")
 - is ("Icelandic")
 - ig ("Igbo")
 - id ("Indonesian")
 - iu ("Inuktitut")
 - ga ("Irish")
 - it ("Italian")
 - ja ("Japanese")
 - jv ("Javanese")
 - kl ("Kalaallisut")
 - kn ("Kannada")
 - kk ("Kazakh")
 - kha ("Khasi")
 - km ("Khmer")
 - rw ("Kinyarwanda")
 - ko ("Korean")
 - kri ("Krio")
 - ku ("Kurdish")
 - ky ("Kyrgyz")
 - lo ("Lao")
 - la ("Latin")
 - lv ("Latvian")
 - ln ("Lingala")
 - lt ("Lithuanian")
 - lua ("Luba-Lulua")
 - luo ("Luo")
 - lb ("Luxembourgish")
 - mk ("Macedonian")
 - mg ("Malagasy")
 - ms ("Malay")
 - ml ("Malayalam")
 - mt ("Maltese")
 - gv ("Manx")
 - mi ("MƒÅori")
 - mr ("Marathi")
 - mn ("Mongolian")
 - mfe ("Morisyen")
 - ne ("Nepali")
 - new ("Newari")
 - nso ("Northern Sotho")
 - no ("Norwegian")
 - ny ("Nyanja")
 - oc ("Occitan")
 - or ("Odia")
 - om ("Oromo")
 - os ("Ossetic")
 - pam ("Pampanga")
 - ps ("Pashto")
 - fa ("Persian")
 - pl ("Polish")
 - pt ("Portuguese")
 - pt-PT ("Portuguese (Portugal)")
 - pa ("Punjabi")
 - qu ("Quechua")
 - ro ("Romanian")
 - rn ("Rundi")
 - ru ("Russian")
 - sm ("Samoan")
 - sg ("Sango")
 - sa ("Sanskrit")
 - gd ("Scottish Gaelic")
 - sr ("Serbian")
 - crs ("Seselwa Creole French")
 - sn ("Shona")
 - sd ("Sindhi")
 - si ("Sinhala")
 - sk ("Slovak")
 - sl ("Slovenian")
 - so ("Somali")
 - st ("Southern Sotho")
 - es ("Spanish")
 - su ("Sundanese")
 - sw ("Swahili")
 - ss ("Swati")
 - sv ("Swedish")
 - tg ("Tajik")
 - ta ("Tamil")
 - tt ("Tatar")
 - te ("Telugu")
 - th ("Thai")
 - bo ("Tibetan")
 - ti ("Tigrinya")
 - to ("Tongan")
 - ts ("Tsonga")
 - tn ("Tswana")
 - tum ("Tumbuka")
 - tr ("Turkish")
 - tk ("Turkmen")
 - uk ("Ukrainian")
 - ur ("Urdu")
 - ug ("Uyghur")
 - uz ("Uzbek")
 - ve ("Venda")
 - vi ("Vietnamese")
 - war ("Waray")
 - cy ("Welsh")
 - fy ("Western Frisian")
 - wo ("Wolof")
 - xh ("Xhosa")
 - yi ("Yiddish")
 - yo ("Yoruba")
 - zu ("Zulu")

If you are sure that the described cause is not responsible for this error and that a transcript should be retrievable, please create an issue at https://github.com/jdepoix/youtube-transcript-api/issues. Please add which version of youtube_transcript_api you are using and provide the information needed to replicate the error. Also make sure that there are no open issues which already describe your problem!
2025-12-26 19:06:55 | INFO     | spectraai | upload_youtube_video:98 | ‚úÖ YouTube video processed: d239aa59-f4f8-4986-8b37-6db54d581f3f
2025-12-26 19:06:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/videos/youtube | Status: 200 | Duration: 6.201s
2025-12-26 19:06:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:06:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:06:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:06:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:06:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.022s
2025-12-26 19:06:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:06:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:57 | INFO     | spectraai | chat:372 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:06:57 | INFO     | spectraai | chat:389 | üìÇ Using existing conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:06:57 | INFO     | spectraai | chat:432 | ü§ñ Generating AI response (history: 6 messages)
2025-12-26 19:06:57 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 19:07:00 | INFO     | spectraai | chat:440 | ‚úÖ AI response generated (224 chars)
2025-12-26 19:07:00 | INFO     | spectraai | chat:477 | ‚úÖ Messages saved to conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:07:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 5.252s
2025-12-26 19:07:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:07:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.022s
2025-12-26 19:07:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/documents/upload | IP: 127.0.0.1
2025-12-26 19:07:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/documents/upload | Status: 200 | Duration: 0.006s
2025-12-26 19:07:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/documents/upload | IP: 127.0.0.1
2025-12-26 19:07:18 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:18 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:18 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:18 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:20 | INFO     | spectraai | upload_document:114 | Document upload request from user {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}: Bda_Unit3&4&5.pdf
2025-12-26 19:07:20 | ERROR    | spectraai | save_file:59 | Error saving file: unsupported operand type(s) for /: 'WindowsPath' and 'dict'
2025-12-26 19:07:20 | ERROR    | spectraai | upload_document:161 | Error uploading document: unsupported operand type(s) for /: 'WindowsPath' and 'dict'
2025-12-26 19:07:20 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 500 | Path: /api/documents/upload | Detail: Failed to upload document: unsupported operand type(s) for /: 'WindowsPath' and 'dict'
2025-12-26 19:07:20 | ERROR    | spectraai | request_logger_middleware:227 | ‚ùå POST /api/documents/upload | Status: 500 | Duration: 2.525s
2025-12-26 19:07:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:07:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 19:07:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:07:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 19:07:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 0.031s
2025-12-26 19:07:28 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:28 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:28 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:28 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 1.879s
2025-12-26 19:07:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 19:07:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 6 conversations (total: 6)
2025-12-26 19:07:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.230s
2025-12-26 19:07:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:32 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:07:32 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:07:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 19:07:32 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 16 messages
2025-12-26 19:07:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 6.226s
2025-12-26 19:07:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 2.472s
2025-12-26 19:07:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | IP: 127.0.0.1
2025-12-26 19:07:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:35 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 12459df4-fc4e-49eb-8598-60ca6945a1c8
2025-12-26 19:07:35 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 16 messages
2025-12-26 19:07:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/12459df4-fc4e-49eb-8598-60ca6945a1c8 | Status: 200 | Duration: 2.395s
2025-12-26 19:07:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:07:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 19:07:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:07:50 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:50 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:50 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:50 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | IP: 127.0.0.1
2025-12-26 19:07:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:07:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:54 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:54 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:54 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:54 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:07:57 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:07:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 6.387s
2025-12-26 19:07:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:07:57 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 8 messages
2025-12-26 19:07:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | Status: 200 | Duration: 4.543s
2025-12-26 19:07:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 6 conversations (total: 6)
2025-12-26 19:07:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.576s
2025-12-26 19:07:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | IP: 127.0.0.1
2025-12-26 19:07:57 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:07:57 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:07:57 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:57 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:07:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.016s
2025-12-26 19:07:59 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:07:59 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:59 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:07:59 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:07:59 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 8 messages
2025-12-26 19:07:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/14fce3a6-8123-4d94-bb55-c2083f404127 | Status: 200 | Duration: 2.331s
2025-12-26 19:08:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:08:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 19:08:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 19:08:27 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:08:27 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:08:27 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:27 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:29 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:08:29 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:29 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:29 | INFO     | spectraai | upload_youtube_video:52 | üé• Processing YouTube video: https://www.youtube.com/watch?v=DC0ZXApgheg
2025-12-26 19:08:29 | INFO     | spectraai | process_youtube:33 | üìπ Extracting YouTube video ID: DC0ZXApgheg
2025-12-26 19:08:29 | WARNING  | spectraai | process_youtube:41 | ‚ö†Ô∏è Could not get video info: HTTP Error 400: Bad Request
2025-12-26 19:08:32 | WARNING  | spectraai | process_youtube:51 | ‚ö†Ô∏è Could not get transcript: 
Could not retrieve a transcript for the video https://www.youtube.com/watch?v=DC0ZXApgheg! This is most likely caused by:

No transcripts were found for any of the requested language codes: ('en',)

For this video (DC0ZXApgheg) transcripts are available in the following languages:

(MANUALLY CREATED)
None

(GENERATED)
 - hi ("Hindi (auto-generated)")[TRANSLATABLE]

(TRANSLATION LANGUAGES)
 - ab ("Abkhazian")
 - aa ("Afar")
 - af ("Afrikaans")
 - ak ("Akan")
 - sq ("Albanian")
 - am ("Amharic")
 - ar ("Arabic")
 - hy ("Armenian")
 - as ("Assamese")
 - ay ("Aymara")
 - az ("Azerbaijani")
 - bn ("Bangla")
 - ba ("Bashkir")
 - eu ("Basque")
 - be ("Belarusian")
 - bho ("Bhojpuri")
 - bs ("Bosnian")
 - br ("Breton")
 - bg ("Bulgarian")
 - my ("Burmese")
 - ca ("Catalan")
 - ceb ("Cebuano")
 - zh-Hans ("Chinese (Simplified)")
 - zh-Hant ("Chinese (Traditional)")
 - co ("Corsican")
 - hr ("Croatian")
 - cs ("Czech")
 - da ("Danish")
 - dv ("Divehi")
 - nl ("Dutch")
 - dz ("Dzongkha")
 - en ("English")
 - eo ("Esperanto")
 - et ("Estonian")
 - ee ("Ewe")
 - fo ("Faroese")
 - fj ("Fijian")
 - fil ("Filipino")
 - fi ("Finnish")
 - fr ("French")
 - gaa ("Ga")
 - gl ("Galician")
 - lg ("Ganda")
 - ka ("Georgian")
 - de ("German")
 - el ("Greek")
 - gn ("Guarani")
 - gu ("Gujarati")
 - ht ("Haitian Creole")
 - ha ("Hausa")
 - haw ("Hawaiian")
 - iw ("Hebrew")
 - hi ("Hindi")
 - hmn ("Hmong")
 - hu ("Hungarian")
 - is ("Icelandic")
 - ig ("Igbo")
 - id ("Indonesian")
 - iu ("Inuktitut")
 - ga ("Irish")
 - it ("Italian")
 - ja ("Japanese")
 - jv ("Javanese")
 - kl ("Kalaallisut")
 - kn ("Kannada")
 - kk ("Kazakh")
 - kha ("Khasi")
 - km ("Khmer")
 - rw ("Kinyarwanda")
 - ko ("Korean")
 - kri ("Krio")
 - ku ("Kurdish")
 - ky ("Kyrgyz")
 - lo ("Lao")
 - la ("Latin")
 - lv ("Latvian")
 - ln ("Lingala")
 - lt ("Lithuanian")
 - lua ("Luba-Lulua")
 - luo ("Luo")
 - lb ("Luxembourgish")
 - mk ("Macedonian")
 - mg ("Malagasy")
 - ms ("Malay")
 - ml ("Malayalam")
 - mt ("Maltese")
 - gv ("Manx")
 - mi ("MƒÅori")
 - mr ("Marathi")
 - mn ("Mongolian")
 - mfe ("Morisyen")
 - ne ("Nepali")
 - new ("Newari")
 - nso ("Northern Sotho")
 - no ("Norwegian")
 - ny ("Nyanja")
 - oc ("Occitan")
 - or ("Odia")
 - om ("Oromo")
 - os ("Ossetic")
 - pam ("Pampanga")
 - ps ("Pashto")
 - fa ("Persian")
 - pl ("Polish")
 - pt ("Portuguese")
 - pt-PT ("Portuguese (Portugal)")
 - pa ("Punjabi")
 - qu ("Quechua")
 - ro ("Romanian")
 - rn ("Rundi")
 - ru ("Russian")
 - sm ("Samoan")
 - sg ("Sango")
 - sa ("Sanskrit")
 - gd ("Scottish Gaelic")
 - sr ("Serbian")
 - crs ("Seselwa Creole French")
 - sn ("Shona")
 - sd ("Sindhi")
 - si ("Sinhala")
 - sk ("Slovak")
 - sl ("Slovenian")
 - so ("Somali")
 - st ("Southern Sotho")
 - es ("Spanish")
 - su ("Sundanese")
 - sw ("Swahili")
 - ss ("Swati")
 - sv ("Swedish")
 - tg ("Tajik")
 - ta ("Tamil")
 - tt ("Tatar")
 - te ("Telugu")
 - th ("Thai")
 - bo ("Tibetan")
 - ti ("Tigrinya")
 - to ("Tongan")
 - ts ("Tsonga")
 - tn ("Tswana")
 - tum ("Tumbuka")
 - tr ("Turkish")
 - tk ("Turkmen")
 - uk ("Ukrainian")
 - ur ("Urdu")
 - ug ("Uyghur")
 - uz ("Uzbek")
 - ve ("Venda")
 - vi ("Vietnamese")
 - war ("Waray")
 - cy ("Welsh")
 - fy ("Western Frisian")
 - wo ("Wolof")
 - xh ("Xhosa")
 - yi ("Yiddish")
 - yo ("Yoruba")
 - zu ("Zulu")

If you are sure that the described cause is not responsible for this error and that a transcript should be retrievable, please create an issue at https://github.com/jdepoix/youtube-transcript-api/issues. Please add which version of youtube_transcript_api you are using and provide the information needed to replicate the error. Also make sure that there are no open issues which already describe your problem!
2025-12-26 19:08:32 | INFO     | spectraai | upload_youtube_video:98 | ‚úÖ YouTube video processed: ca61c86d-84e5-4df0-b984-dd88f0259347
2025-12-26 19:08:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/videos/youtube | Status: 200 | Duration: 5.669s
2025-12-26 19:08:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:08:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:08:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:08:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:08:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:35 | INFO     | spectraai | chat:372 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:08:35 | INFO     | spectraai | chat:389 | üìÇ Using existing conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:08:35 | INFO     | spectraai | chat:432 | ü§ñ Generating AI response (history: 8 messages)
2025-12-26 19:08:35 | INFO     | spectraai | generate_response:52 | ü§ñ Generating response with model: gemini-2.5-flash
2025-12-26 19:08:36 | INFO     | spectraai | chat:440 | ‚úÖ AI response generated (224 chars)
2025-12-26 19:08:36 | INFO     | spectraai | chat:477 | ‚úÖ Messages saved to conversation: 14fce3a6-8123-4d94-bb55-c2083f404127
2025-12-26 19:08:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.873s
2025-12-26 19:08:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:08:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 19:08:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:08:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.024s
2025-12-26 19:09:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:09:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 19:09:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:09:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 19:09:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:09:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.019s
2025-12-26 19:10:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:10:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 19:10:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:10:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.023s
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:41:44.443652
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 19:11:44 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 19:11:44 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 19:11:44 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 19:11:44 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 19:11:49 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:11:49 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:11:57 | INFO     | spectraai | __init__:16 | ‚úÖ Gemini AI initialized successfully
2025-12-26 19:11:57 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 19:11:57 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 19:11:57 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 19:11:57 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 19:11:57 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 19:11:57 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 19:11:57 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:41:57.892536
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 19:11:57 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 19:11:57 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 19:11:57 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 19:11:57 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 19:11:57 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:11:57 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 19:11:57 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 19:11:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:11:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.022s
2025-12-26 19:11:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:11:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.027s
2025-12-26 19:12:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:12:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:43:19.300821
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 19:13:19 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 19:13:19 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 19:13:19 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 19:13:19 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 19:13:23 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:13:23 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:13:28 | INFO     | spectraai | __init__:16 | ‚úÖ Gemini AI initialized successfully
2025-12-26 19:13:28 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 19:13:28 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 19:13:28 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 19:13:28 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 19:13:28 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 19:13:28 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 19:13:28 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:43:28.981671
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 19:13:28 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 19:13:28 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 19:13:28 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 19:13:28 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 19:13:28 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:13:28 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 19:13:28 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 19:13:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:13:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:13:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.029s
2025-12-26 19:13:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.029s
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:43:57.155137
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 19:13:57 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 19:13:57 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 19:13:57 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 19:13:57 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 19:13:59 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:13:59 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:14:03 | INFO     | spectraai | __init__:16 | ‚úÖ Gemini AI initialized successfully
2025-12-26 19:14:04 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 19:14:04 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 19:14:04 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 19:14:04 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 19:14:04 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 19:14:04 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 19:14:04 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:44:04.234185
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 19:14:04 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 19:14:04 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 19:14:04 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 19:14:04 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 19:14:04 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:14:04 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 19:14:04 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 19:14:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:14:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T13:44:56.102013
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 19:14:56 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 19:14:56 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 19:14:56 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 19:14:56 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 19:15:04 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:15:04 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:15:07 | INFO     | spectraai | __init__:16 | ‚úÖ Gemini AI initialized successfully
2025-12-26 19:15:07 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 19:15:07 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 19:15:07 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 19:15:07 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 19:15:07 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 19:15:07 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 19:15:07 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T13:45:07.695364
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 19:15:07 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 19:15:07 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 19:15:07 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 19:15:07 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 19:15:07 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 19:15:07 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 19:15:07 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 19:15:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:15:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.022s
2025-12-26 19:15:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:15:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 19:15:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:15:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.039s
2025-12-26 19:15:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:15:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.023s
2025-12-26 19:15:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:15:12 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:12 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:12 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:12 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:15:14 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:14 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:14 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:14 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:15:16 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:16 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:16 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:16 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:15:18 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:18 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:18 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:18 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:15:20 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:20 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:20 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:20 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:22 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:22 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:22 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:22 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:15:22 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:15:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 10.289s
2025-12-26 19:15:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:15:22 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:22 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:22 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:22 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:24 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:24 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 6 conversations (total: 6)
2025-12-26 19:15:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 19:15:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 9.678s
2025-12-26 19:15:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:27 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:27 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:27 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:27 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:27 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: 2a6c620e-54ca-4da2-b91c-74745ded16be
2025-12-26 19:15:27 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 19:15:27 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 19:15:28 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 26.93979172s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 26
}
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 26.93979172s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 26
}
]
2025-12-26 19:15:28 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (1845 chars)
2025-12-26 19:15:28 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: 2a6c620e-54ca-4da2-b91c-74745ded16be
2025-12-26 19:15:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:15:28 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:28 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:28 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:28 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 12.140s
2025-12-26 19:15:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:30 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:30 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: 41127e1f-7777-4859-a70e-d07e6e3293b8
2025-12-26 19:15:30 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 19:15:30 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 19:15:30 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 24.483367118s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 24
}
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 24.483367118s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 24
}
]
2025-12-26 19:15:30 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (1846 chars)
2025-12-26 19:15:30 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: 41127e1f-7777-4859-a70e-d07e6e3293b8
2025-12-26 19:15:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 10.187s
2025-12-26 19:15:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/2a6c620e-54ca-4da2-b91c-74745ded16be | IP: 127.0.0.1
2025-12-26 19:15:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/2a6c620e-54ca-4da2-b91c-74745ded16be | Status: 200 | Duration: 0.002s
2025-12-26 19:15:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/41127e1f-7777-4859-a70e-d07e6e3293b8 | IP: 127.0.0.1
2025-12-26 19:15:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/41127e1f-7777-4859-a70e-d07e6e3293b8 | Status: 200 | Duration: 0.004s
2025-12-26 19:15:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/2a6c620e-54ca-4da2-b91c-74745ded16be | IP: 127.0.0.1
2025-12-26 19:15:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/41127e1f-7777-4859-a70e-d07e6e3293b8 | IP: 127.0.0.1
2025-12-26 19:15:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:32 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:32 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 19:15:32 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 19:15:32 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 19:15:33 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 22.248091899s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 22
}
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 22.248091899s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 22
}
]
2025-12-26 19:15:33 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (1846 chars)
2025-12-26 19:15:33 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 19:15:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:33 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:33 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 9 conversations (total: 9)
2025-12-26 19:15:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:33 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:33 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:33 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:33 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 8.998s
2025-12-26 19:15:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 20.568s
2025-12-26 19:15:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 6.351s
2025-12-26 19:15:35 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:15:35 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:15:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 12.594s
2025-12-26 19:15:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:15:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:15:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:15:35 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:35 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:35 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:35 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:36 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:36 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:36 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:36 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:38 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:38 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:38 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:38 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 19:15:40 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 0.006s
2025-12-26 19:15:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 19:15:40 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 0.009s
2025-12-26 19:15:40 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 19:15:40 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:40 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:40 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:40 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:42 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:42 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:42 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:42 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 2a6c620e-54ca-4da2-b91c-74745ded16be
2025-12-26 19:15:42 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:15:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/2a6c620e-54ca-4da2-b91c-74745ded16be | Status: 200 | Duration: 11.774s
2025-12-26 19:15:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:15:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 19:15:43 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:43 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:43 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:43 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 41127e1f-7777-4859-a70e-d07e6e3293b8
2025-12-26 19:15:43 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:15:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/41127e1f-7777-4859-a70e-d07e6e3293b8 | Status: 200 | Duration: 10.292s
2025-12-26 19:15:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/41127e1f-7777-4859-a70e-d07e6e3293b8 | IP: 127.0.0.1
2025-12-26 19:15:43 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:43 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:43 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:43 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:44 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:44 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:44 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:44 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:44 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:44 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:44 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:44 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:45 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:45 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 9 conversations (total: 9)
2025-12-26 19:15:45 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:45 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:45 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 19:15:45 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:15:45 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:45 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 11.651s
2025-12-26 19:15:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 5.956s
2025-12-26 19:15:46 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:15:46 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:15:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 11.650s
2025-12-26 19:15:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:15:46 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:46 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:46 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:46 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 19:15:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:15:48 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:48 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:48 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:48 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:50 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:50 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:50 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:50 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:52 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 41127e1f-7777-4859-a70e-d07e6e3293b8
2025-12-26 19:15:52 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:15:52 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:52 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 9 conversations (total: 9)
2025-12-26 19:15:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/41127e1f-7777-4859-a70e-d07e6e3293b8 | Status: 200 | Duration: 9.540s
2025-12-26 19:15:52 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 5.926s
2025-12-26 19:15:52 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:52 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 19:15:52 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:15:52 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:15:52 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:15:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 17.661s
2025-12-26 19:15:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 4.075s
2025-12-26 19:15:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.042s
2025-12-26 19:15:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:15:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:15:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:15:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:54 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:15:54 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:54 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:15:54 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:15:54 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:15:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 2.220s
2025-12-26 19:16:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:16:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 19:16:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:16:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 19:16:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:16:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 19:17:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:17:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 19:17:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:17:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 19:17:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:17:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.044s
2025-12-26 19:18:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:18:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 19:18:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:18:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 19:18:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:18:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 19:19:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:19:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 19:19:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:19:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.009s
2025-12-26 19:26:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:26:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 19:26:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:26:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 19:26:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 19:26:49 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:26:49 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:26:49 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:49 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:26:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 19:26:50 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:26:50 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:26:50 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:50 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 19:26:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:26:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.307s
2025-12-26 19:26:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:26:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:26:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:53 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:26:53 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:26:53 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:53 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:26:56 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:26:56 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 19:26:56 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 19:26:56 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 9 conversations (total: 9)
2025-12-26 19:26:56 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:26:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 6.750s
2025-12-26 19:26:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 7.690s
2025-12-26 19:26:56 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 19:26:56 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 19:26:56 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:26:56 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:56 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 7.550s
2025-12-26 19:26:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 8.024s
2025-12-26 19:26:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 19:26:59 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 19:26:59 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 19:26:59 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:26:59 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:27:01 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 19:27:01 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:27:01 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 19:27:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 5.111s
2025-12-26 19:27:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:27:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 19:27:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:27:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 19:27:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:27:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 19:28:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:28:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.028s
2025-12-26 19:28:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:28:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 19:28:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:28:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.008s
2025-12-26 19:29:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:29:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 19:29:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:29:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 19:29:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:29:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.013s
2025-12-26 19:30:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:30:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.008s
2025-12-26 19:30:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:30:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 19:31:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:31:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 19:31:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:31:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 19:32:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:32:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.005s
2025-12-26 19:32:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:32:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 19:33:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:33:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 19:33:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:33:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.017s
2025-12-26 19:34:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 19:34:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 19:34:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 19:34:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.011s
2025-12-26 20:52:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /stats | IP: 127.0.0.1
2025-12-26 20:52:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /stats | Status: 200 | Duration: 0.002s
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/ | IP: 127.0.0.1
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 0.005s
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/ | Status: 200 | Duration: 0.027s
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.029s
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.003s
2025-12-26 20:52:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 0.003s
2025-12-26 20:52:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 20:52:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:52:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:52:45 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:52:45 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:52:45 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:45 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:47 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:52:47 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:52:47 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:47 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 3.447s
2025-12-26 20:52:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 20:52:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 20:52:48 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:52:48 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:52:48 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:48 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:50 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:52:50 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:52:50 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:50 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:52 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:52:52 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:52 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:52 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 20:52:52 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:52:52 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:52:52 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:52 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:54 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:52:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 6.073s
2025-12-26 20:52:54 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:54 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:54 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:54 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 9 conversations (total: 9)
2025-12-26 20:52:54 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:52:54 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:54 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 9.566s
2025-12-26 20:52:54 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:52:54 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:52:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 9.582s
2025-12-26 20:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 6.671s
2025-12-26 20:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 20:52:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:52:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:52:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:52:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:52:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.658s
2025-12-26 20:53:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:53:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 20:53:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:53:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 20:53:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:53:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 20:55:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:55:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:55:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.073s
2025-12-26 20:55:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.039s
2025-12-26 20:55:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:55:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 20:55:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:55:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.029s
2025-12-26 20:55:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:55:02 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:02 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:02 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:02 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:55:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:55:04 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:04 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:04 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:04 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 20:55:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 20:55:06 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:06 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:06 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:06 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:08 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:08 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:08 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:08 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 5.515s
2025-12-26 20:55:10 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:10 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:10 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:10 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:10 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:55:10 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:55:10 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:10 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:10 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:10 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 9 conversations (total: 9)
2025-12-26 20:55:10 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:10 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:10 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 8.003s
2025-12-26 20:55:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 9.909s
2025-12-26 20:55:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:12 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 20:55:12 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:55:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 6.250s
2025-12-26 20:55:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 6.705s
2025-12-26 20:55:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 20:55:13 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:13 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:13 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:13 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.102s
2025-12-26 20:55:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  DELETE /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | IP: 127.0.0.1
2025-12-26 20:55:25 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:25 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:25 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:25 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:27 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:27 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:27 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:27 | INFO     | spectraai | delete_conversation:236 | üóëÔ∏è Deleting conversation: 27364027-40ab-4d0b-9dc3-4d1a100009ba
2025-12-26 20:55:27 | INFO     | spectraai | delete_conversation:261 | ‚úÖ Deleted conversation and 2 messages
2025-12-26 20:55:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ DELETE /api/chat/conversations/27364027-40ab-4d0b-9dc3-4d1a100009ba | Status: 200 | Duration: 2.314s
2025-12-26 20:55:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:55:27 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:27 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:27 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:27 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:55:29 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:29 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:29 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:29 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/ | IP: 127.0.0.1
2025-12-26 20:55:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/ | Status: 200 | Duration: 0.002s
2025-12-26 20:55:31 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 20:55:31 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:31 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:31 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:31 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:55:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 20:55:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 20:55:33 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:33 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:33 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:33 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:34 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:34 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:34 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 20:55:34 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:55:34 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:55:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 7.026s
2025-12-26 20:55:34 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:34 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:34 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:34 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:36 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:36 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:36 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:36 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:36 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 8 conversations (total: 8)
2025-12-26 20:55:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 7.024s
2025-12-26 20:55:37 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:37 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: 6a9ec6b6-cfb0-4a5b-8365-105428b6e828
2025-12-26 20:55:37 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 20:55:37 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 20:55:37 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-12-26 20:55:37 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (288 chars)
2025-12-26 20:55:37 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: 6a9ec6b6-cfb0-4a5b-8365-105428b6e828
2025-12-26 20:55:37 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:37 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 6.297s
2025-12-26 20:55:37 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: bb7370c9-19b8-402f-b392-a807fc7bcf6a
2025-12-26 20:55:37 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 20:55:37 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 20:55:37 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-12-26 20:55:37 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (288 chars)
2025-12-26 20:55:37 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: bb7370c9-19b8-402f-b392-a807fc7bcf6a
2025-12-26 20:55:37 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:37 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: 183e768e-b75d-4844-ba5a-625be9abf9d4
2025-12-26 20:55:37 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 20:55:37 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 20:55:38 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-12-26 20:55:38 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (288 chars)
2025-12-26 20:55:38 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: 183e768e-b75d-4844-ba5a-625be9abf9d4
2025-12-26 20:55:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.408s
2025-12-26 20:55:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 5.116s
2025-12-26 20:55:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/6a9ec6b6-cfb0-4a5b-8365-105428b6e828 | IP: 127.0.0.1
2025-12-26 20:55:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:55:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/6a9ec6b6-cfb0-4a5b-8365-105428b6e828 | Status: 200 | Duration: 0.003s
2025-12-26 20:55:38 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:38 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:38 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:38 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | IP: 127.0.0.1
2025-12-26 20:55:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:55:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | IP: 127.0.0.1
2025-12-26 20:55:39 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:39 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:39 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:39 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | Status: 200 | Duration: 1.800s
2025-12-26 20:55:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | Status: 200 | Duration: 1.798s
2025-12-26 20:55:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/6a9ec6b6-cfb0-4a5b-8365-105428b6e828 | IP: 127.0.0.1
2025-12-26 20:55:41 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:41 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:41 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:41 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | IP: 127.0.0.1
2025-12-26 20:55:43 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:43 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:43 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:43 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:45 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:45 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:45 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:45 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:55:45 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:55:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 7.356s
2025-12-26 20:55:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:55:45 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:45 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:45 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:45 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:47 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:47 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:47 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 6a9ec6b6-cfb0-4a5b-8365-105428b6e828
2025-12-26 20:55:47 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:55:47 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 183e768e-b75d-4844-ba5a-625be9abf9d4
2025-12-26 20:55:47 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:55:47 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 11 conversations (total: 11)
2025-12-26 20:55:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/6a9ec6b6-cfb0-4a5b-8365-105428b6e828 | Status: 200 | Duration: 5.805s
2025-12-26 20:55:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | Status: 200 | Duration: 4.061s
2025-12-26 20:55:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 7.610s
2025-12-26 20:55:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | IP: 127.0.0.1
2025-12-26 20:55:47 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:55:47 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:55:47 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:47 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:49 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:49 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:49 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:49 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:55:49 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:55:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.120s
2025-12-26 20:55:49 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:55:49 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:49 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:55:49 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 183e768e-b75d-4844-ba5a-625be9abf9d4
2025-12-26 20:55:49 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:55:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | Status: 200 | Duration: 2.324s
2025-12-26 20:56:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:56:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 20:56:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:56:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 20:56:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:56:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 20:56:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4/messages | IP: 127.0.0.1
2025-12-26 20:56:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4/messages | Status: 200 | Duration: 0.002s
2025-12-26 20:56:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  DELETE /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4/messages | IP: 127.0.0.1
2025-12-26 20:56:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:56:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:56:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:56:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:56:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:56:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:56:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:56:57 | INFO     | spectraai | clear_conversation_history:302 | üóëÔ∏è Clearing messages for conversation: 183e768e-b75d-4844-ba5a-625be9abf9d4
2025-12-26 20:56:57 | INFO     | spectraai | clear_conversation_history:330 | ‚úÖ Cleared 2 messages
2025-12-26 20:56:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ DELETE /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4/messages | Status: 200 | Duration: 2.635s
2025-12-26 20:56:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  DELETE /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | IP: 127.0.0.1
2025-12-26 20:56:58 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:56:58 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:56:58 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:56:58 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:00 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:00 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:00 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:00 | INFO     | spectraai | delete_conversation:236 | üóëÔ∏è Deleting conversation: 183e768e-b75d-4844-ba5a-625be9abf9d4
2025-12-26 20:57:00 | INFO     | spectraai | delete_conversation:261 | ‚úÖ Deleted conversation and 0 messages
2025-12-26 20:57:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ DELETE /api/chat/conversations/183e768e-b75d-4844-ba5a-625be9abf9d4 | Status: 200 | Duration: 2.246s
2025-12-26 20:57:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:57:00 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:00 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:00 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:00 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:57:02 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:02 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:02 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:02 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:57:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:57:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.036s
2025-12-26 20:57:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.036s
2025-12-26 20:57:04 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:04 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:04 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:04 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:04 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 10 conversations (total: 10)
2025-12-26 20:57:04 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 2.272s
2025-12-26 20:57:04 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:04 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:04 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:57:04 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:57:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.042s
2025-12-26 20:57:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 20:57:20 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:20 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:20 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:20 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 20:57:22 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:22 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:22 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:22 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:24 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:24 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: 0c31c652-269d-4479-a9c2-bf773a795404
2025-12-26 20:57:24 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 20:57:24 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 20:57:24 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-12-26 20:57:24 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (288 chars)
2025-12-26 20:57:24 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: 0c31c652-269d-4479-a9c2-bf773a795404
2025-12-26 20:57:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:24 | INFO     | spectraai | chat:374 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:24 | INFO     | spectraai | chat:407 | ‚úÖ New conversation created: 1692007b-6277-4f39-81ed-deb2c6745245
2025-12-26 20:57:24 | INFO     | spectraai | chat:459 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 20:57:24 | INFO     | spectraai | generate_response:98 | ü§ñ Generating response (history: 1 messages)
2025-12-26 20:57:25 | ERROR    | spectraai | generate_response:110 | ‚ùå AI generation error: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\services\ai_service.py", line 101, in generate_response
    response = chat.send_message(message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 367, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-12-26 20:57:25 | INFO     | spectraai | chat:469 | ‚úÖ AI response generated (288 chars)
2025-12-26 20:57:25 | INFO     | spectraai | chat:506 | ‚úÖ Messages saved to conversation: 1692007b-6277-4f39-81ed-deb2c6745245
2025-12-26 20:57:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 2.738s
2025-12-26 20:57:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 4.415s
2025-12-26 20:57:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:57:25 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:25 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:25 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:25 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | IP: 127.0.0.1
2025-12-26 20:57:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | IP: 127.0.0.1
2025-12-26 20:57:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:57:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | Status: 200 | Duration: 0.010s
2025-12-26 20:57:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | Status: 200 | Duration: 1.600s
2025-12-26 20:57:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | IP: 127.0.0.1
2025-12-26 20:57:28 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:28 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:28 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:28 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:57:30 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:57:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 5.575s
2025-12-26 20:57:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 12 conversations (total: 12)
2025-12-26 20:57:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.989s
2025-12-26 20:57:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 1692007b-6277-4f39-81ed-deb2c6745245
2025-12-26 20:57:30 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:57:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | Status: 200 | Duration: 2.395s
2025-12-26 20:57:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | IP: 127.0.0.1
2025-12-26 20:57:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:57:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:57:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:57:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.032s
2025-12-26 20:57:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:57:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:57:33 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 1692007b-6277-4f39-81ed-deb2c6745245
2025-12-26 20:57:33 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:57:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | Status: 200 | Duration: 2.133s
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T15:28:13.533292
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 20:58:13 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 20:58:13 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 20:58:13 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 20:58:13 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 20:58:44 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 20:58:44 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 20:58:47 | INFO     | spectraai | __init__:16 | ‚úÖ Gemini AI initialized successfully
2025-12-26 20:58:48 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 20:58:48 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 20:58:48 | INFO     | spectraai | __init__:19 | ‚úÖ Storage service initialized: storage
2025-12-26 20:58:48 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 20:58:48 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 20:58:48 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 20:58:48 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T15:28:48.320701
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 20:58:48 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 20:58:48 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 20:58:48 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 20:58:48 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 20:58:48 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 20:58:48 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 20:58:48 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 20:59:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:59:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:59:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.053s
2025-12-26 20:59:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.032s
2025-12-26 20:59:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:59:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 20:59:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:59:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 20:59:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 20:59:07 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:59:07 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:59:07 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:07 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 20:59:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 20:59:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:59:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:59:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 20:59:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | IP: 127.0.0.1
2025-12-26 20:59:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.829s
2025-12-26 20:59:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:59:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:59:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:12 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:59:12 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:59:12 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:12 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:59:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 20:59:15 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 20:59:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:59:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 5.955s
2025-12-26 20:59:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 1692007b-6277-4f39-81ed-deb2c6745245
2025-12-26 20:59:15 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 20:59:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:59:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/1692007b-6277-4f39-81ed-deb2c6745245 | Status: 200 | Duration: 4.179s
2025-12-26 20:59:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 12 conversations (total: 12)
2025-12-26 20:59:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 8.004s
2025-12-26 20:59:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:59:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 6.966s
2025-12-26 20:59:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 20:59:17 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 20:59:17 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 20:59:17 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:17 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 20:59:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 20:59:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.414s
2025-12-26 20:59:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 20:59:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 21:00:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:00:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:00:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:00:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.017s
2025-12-26 21:00:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:00:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.050s
2025-12-26 21:06:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:06:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 21:06:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:06:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.023s
2025-12-26 21:06:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:06:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 21:07:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:07:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:07:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:07:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.025s
2025-12-26 21:07:36 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:07:36 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 21:08:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:08:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 21:08:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:08:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.021s
2025-12-26 21:08:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:08:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:09:07 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:09:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.021s
2025-12-26 21:09:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:09:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T15:40:07.202001
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 21:10:07 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 21:10:07 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 21:10:07 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 21:10:07 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 21:29:07 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 21:29:07 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 21:32:22 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 21:32:22 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 21:32:51 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-1.5-flash
2025-12-26 21:32:52 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-1.5-flash failed: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 21:32:52 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-1.5-pro
2025-12-26 21:32:52 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-1.5-pro failed: 404 models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 21:32:52 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-pro
2025-12-26 21:32:53 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-pro failed: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 21:32:53 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-2.0-flash-exp
2025-12-26 21:32:53 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-2.0-flash-exp failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 2.021805243s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 2
}
]
2025-12-26 21:32:53 | WARNING  | spectraai | __init__:51 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 21:32:53 | INFO     | spectraai | __init__:52 | üîÑ Falling back to RAG mode
2025-12-26 21:32:53 | INFO     | spectraai | __init__:60 | üîÑ Initializing RAG...
2025-12-26 21:33:13 | INFO     | spectraai | __init__:71 | ‚úÖ RAG initialized successfully
2025-12-26 21:33:15 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 21:33:15 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 21:33:15 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 21:33:15 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 21:33:15 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 21:33:15 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 21:33:15 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:03:15.648345
2025-12-26 21:33:15 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 21:33:15 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 21:33:15 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 21:33:15 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 21:33:16 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 21:33:16 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 21:33:16 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 21:33:16 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 21:33:16 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 21:33:16 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 21:33:16 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 21:33:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/ | IP: 127.0.0.1
2025-12-26 21:33:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/ | Status: 200 | Duration: 0.001s
2025-12-26 21:33:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 21:33:21 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:21 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:21 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:21 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /stats | IP: 127.0.0.1
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/ | IP: 127.0.0.1
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /stats | Status: 200 | Duration: 0.014s
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/ | Status: 200 | Duration: 0.012s
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:33:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:33:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.041s
2025-12-26 21:33:24 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:24 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:24 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:24 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:26 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:26 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:26 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:26 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: eaf75594-2b32-4b66-98c9-dc5458ec8544
2025-12-26 21:33:26 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 21:33:26 | INFO     | spectraai | _generate_with_rag:217 | üîç Using RAG for response generation
2025-12-26 21:33:26 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (381 chars)
2025-12-26 21:33:26 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: eaf75594-2b32-4b66-98c9-dc5458ec8544
2025-12-26 21:33:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 4.807s
2025-12-26 21:33:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544 | IP: 127.0.0.1
2025-12-26 21:33:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544 | Status: 200 | Duration: 0.002s
2025-12-26 21:33:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544 | IP: 127.0.0.1
2025-12-26 21:33:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:33:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 0.007s
2025-12-26 21:33:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:33:28 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:28 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:28 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:28 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:33:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:30 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:33:30 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:33:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 6.461s
2025-12-26 21:33:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:33:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:33:32 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:33:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:32 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: eaf75594-2b32-4b66-98c9-dc5458ec8544
2025-12-26 21:33:32 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:33:32 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:32 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:32 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:32 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 1 conversations (total: 1)
2025-12-26 21:33:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544 | Status: 200 | Duration: 6.244s
2025-12-26 21:33:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.253s
2025-12-26 21:33:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544 | IP: 127.0.0.1
2025-12-26 21:33:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:33:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:35 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:33:35 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:33:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.289s
2025-12-26 21:33:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:33:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:35 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: eaf75594-2b32-4b66-98c9-dc5458ec8544
2025-12-26 21:33:35 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:33:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544 | Status: 200 | Duration: 2.624s
2025-12-26 21:33:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:33:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 21:33:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:33:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 21:33:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:33:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:33:56 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:56 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:56 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:33:56 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:33:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.800s
2025-12-26 21:33:59 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:33:59 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:33:59 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:33:59 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 21:33:59 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:33:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 2.461s
2025-12-26 21:33:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544/messages | IP: 127.0.0.1
2025-12-26 21:33:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544/messages | Status: 200 | Duration: 0.003s
2025-12-26 21:33:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  DELETE /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544/messages | IP: 127.0.0.1
2025-12-26 21:33:59 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:33:59 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:33:59 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:33:59 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:02 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:34:02 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:02 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:02 | INFO     | spectraai | clear_conversation_history:302 | üóëÔ∏è Clearing messages for conversation: eaf75594-2b32-4b66-98c9-dc5458ec8544
2025-12-26 21:34:02 | INFO     | spectraai | clear_conversation_history:330 | ‚úÖ Cleared 2 messages
2025-12-26 21:34:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ DELETE /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544/messages | Status: 200 | Duration: 2.433s
2025-12-26 21:34:03 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  DELETE /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544/messages | IP: 127.0.0.1
2025-12-26 21:34:03 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:34:03 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:34:03 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:03 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:07 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:34:07 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:07 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:07 | INFO     | spectraai | clear_conversation_history:302 | üóëÔ∏è Clearing messages for conversation: eaf75594-2b32-4b66-98c9-dc5458ec8544
2025-12-26 21:34:07 | INFO     | spectraai | clear_conversation_history:330 | ‚úÖ Cleared 0 messages
2025-12-26 21:34:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ DELETE /api/chat/conversations/eaf75594-2b32-4b66-98c9-dc5458ec8544/messages | Status: 200 | Duration: 3.316s
2025-12-26 21:34:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:34:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:34:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:34:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:34:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:34:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:34:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:13 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:34:13 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:34:13 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:13 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:13 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:13 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 1 conversations (total: 1)
2025-12-26 21:34:13 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:13 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:34:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 2.563s
2025-12-26 21:34:13 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:34:13 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:34:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.457s
2025-12-26 21:34:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:34:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:34:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.040s
2025-12-26 21:34:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.038s
2025-12-26 21:34:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:34:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 21:34:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:34:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 21:34:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:34:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 21:34:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:34:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 21:34:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:34:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 21:34:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:34:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:35:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 21:35:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:35:42 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:35:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 21:35:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 21:35:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 21:35:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 21:35:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:35:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:35:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:35:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:35:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:35:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:35:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 21:35:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:35:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 21:35:54 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:35:54 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:35:54 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:35:54 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 2.025s
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 2.024s
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 2.024s
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.052s
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.045s
2025-12-26 21:35:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 21:35:56 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:35:56 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:35:56 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:35:56 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:35:58 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:35:58 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:35:58 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:35:58 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 21:36:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 21:36:00 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:00 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:00 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:00 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:02 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:02 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:02 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:02 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:03 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:03 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 1 conversations (total: 1)
2025-12-26 21:36:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 11.324s
2025-12-26 21:36:04 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:04 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:04 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:04 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:04 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:04 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:06 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:06 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: fbe3f72f-d817-4fbb-b154-df252555b453
2025-12-26 21:36:06 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 21:36:06 | INFO     | spectraai | _generate_with_rag:217 | üîç Using RAG for response generation
2025-12-26 21:36:06 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (381 chars)
2025-12-26 21:36:06 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: fbe3f72f-d817-4fbb-b154-df252555b453
2025-12-26 21:36:06 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 614f9ef1-9c0b-45b0-8a0d-a52f5efa7c3d
2025-12-26 21:36:06 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 21:36:06 | INFO     | spectraai | _generate_with_rag:217 | üîç Using RAG for response generation
2025-12-26 21:36:06 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (381 chars)
2025-12-26 21:36:06 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 614f9ef1-9c0b-45b0-8a0d-a52f5efa7c3d
2025-12-26 21:36:06 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:06 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:36:06 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:36:06 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: eeb76384-84b4-49d2-af45-6a3541570fea
2025-12-26 21:36:06 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 21:36:06 | INFO     | spectraai | _generate_with_rag:217 | üîç Using RAG for response generation
2025-12-26 21:36:06 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (381 chars)
2025-12-26 21:36:06 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: eeb76384-84b4-49d2-af45-6a3541570fea
2025-12-26 21:36:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 21:36:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 6.064s
2025-12-26 21:36:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 6.067s
2025-12-26 21:36:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 12.027s
2025-12-26 21:36:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 9.981s
2025-12-26 21:36:06 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:06 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:06 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:06 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:36:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | IP: 127.0.0.1
2025-12-26 21:36:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:36:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | IP: 127.0.0.1
2025-12-26 21:36:08 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:08 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:08 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:08 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | Status: 200 | Duration: 4.011s
2025-12-26 21:36:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | Status: 200 | Duration: 4.010s
2025-12-26 21:36:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | IP: 127.0.0.1
2025-12-26 21:36:12 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:12 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:12 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:12 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:15 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:15 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 06fc706c-a60d-4fed-abf6-c3caa5a7ee13
2025-12-26 21:36:15 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 21:36:15 | INFO     | spectraai | _generate_with_rag:217 | üîç Using RAG for response generation
2025-12-26 21:36:15 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (381 chars)
2025-12-26 21:36:15 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 06fc706c-a60d-4fed-abf6-c3caa5a7ee13
2025-12-26 21:36:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 8.637s
2025-12-26 21:36:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | IP: 127.0.0.1
2025-12-26 21:36:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | Status: 200 | Duration: 0.005s
2025-12-26 21:36:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | IP: 127.0.0.1
2025-12-26 21:36:15 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:15 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:15 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:15 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 5 conversations (total: 5)
2025-12-26 21:36:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 21:36:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: eeb76384-84b4-49d2-af45-6a3541570fea
2025-12-26 21:36:17 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:36:17 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:17 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:17 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:17 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 22.679s
2025-12-26 21:36:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 10.749s
2025-12-26 21:36:19 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:36:19 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:36:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | Status: 200 | Duration: 6.731s
2025-12-26 21:36:19 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 10.776s
2025-12-26 21:36:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:36:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | IP: 127.0.0.1
2025-12-26 21:36:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:36:19 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:19 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:19 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:19 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:21 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:21 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:21 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:21 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:36:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.023s
2025-12-26 21:36:26 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:26 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:26 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:26 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 06fc706c-a60d-4fed-abf6-c3caa5a7ee13
2025-12-26 21:36:26 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:36:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | Status: 200 | Duration: 11.203s
2025-12-26 21:36:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | IP: 127.0.0.1
2025-12-26 21:36:26 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:36:26 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:36:26 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:26 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:29 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:29 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:29 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:31 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 5 conversations (total: 5)
2025-12-26 21:36:31 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:31 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:31 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: eeb76384-84b4-49d2-af45-6a3541570fea
2025-12-26 21:36:31 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:36:31 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:36:31 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:36:31 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 06fc706c-a60d-4fed-abf6-c3caa5a7ee13
2025-12-26 21:36:31 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:36:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 11.694s
2025-12-26 21:36:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/eeb76384-84b4-49d2-af45-6a3541570fea | Status: 200 | Duration: 11.694s
2025-12-26 21:36:31 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:36:31 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:36:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | Status: 200 | Duration: 4.609s
2025-12-26 21:36:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 11.709s
2025-12-26 21:36:31 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 14.478s
2025-12-26 21:36:52 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:36:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 21:36:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:36:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.015s
2025-12-26 21:36:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:36:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 21:36:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:36:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.022s
2025-12-26 21:37:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:37:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.023s
2025-12-26 21:37:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:37:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.058s
2025-12-26 21:37:34 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:37:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 21:37:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:37:35 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:37:35 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:37:35 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:35 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:37:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | IP: 127.0.0.1
2025-12-26 21:37:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 21:37:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:37:37 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:37:37 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:37:37 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:37 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:38 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:37:38 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:37:38 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:38 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:40 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:37:40 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:37:40 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:40 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:42 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 5.537s
2025-12-26 21:37:43 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:37:43 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:43 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:43 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:43 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 5 conversations (total: 5)
2025-12-26 21:37:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 8.307s
2025-12-26 21:37:43 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:37:43 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:43 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:43 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 06fc706c-a60d-4fed-abf6-c3caa5a7ee13
2025-12-26 21:37:43 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:37:43 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:37:43 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:43 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | Status: 200 | Duration: 8.427s
2025-12-26 21:37:45 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:37:45 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:45 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:45 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:37:45 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:37:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 8.454s
2025-12-26 21:37:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 10.317s
2025-12-26 21:37:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 21:37:47 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:37:47 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:37:47 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:47 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:49 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:37:49 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:49 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:37:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 5.320s
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T16:07:54.254200
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 21:37:54 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 21:37:54 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 21:37:54 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 21:37:54 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 21:38:02 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 21:38:02 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 21:38:13 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-1.5-flash
2025-12-26 21:38:14 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-1.5-flash failed: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 21:38:14 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-1.5-pro
2025-12-26 21:38:14 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-1.5-pro failed: 404 models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 21:38:14 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-pro
2025-12-26 21:38:15 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-pro failed: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-26 21:38:15 | INFO     | spectraai | __init__:34 | üîç Trying model: gemini-2.0-flash-exp
2025-12-26 21:38:15 | WARNING  | spectraai | __init__:47 | ‚ö†Ô∏è Model gemini-2.0-flash-exp failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 40.128698753s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 40
}
]
2025-12-26 21:38:15 | WARNING  | spectraai | __init__:51 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 21:38:15 | INFO     | spectraai | __init__:52 | üîÑ Falling back to RAG mode
2025-12-26 21:38:15 | INFO     | spectraai | __init__:60 | üîÑ Initializing RAG...
2025-12-26 21:38:20 | INFO     | spectraai | __init__:71 | ‚úÖ RAG initialized successfully
2025-12-26 21:38:20 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 21:38:20 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 21:38:20 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 21:38:20 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:08:20.706745
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 21:38:20 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 21:38:20 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 21:38:20 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 21:38:20 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 21:38:20 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 21:38:20 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 21:38:20 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 21:38:20 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 21:38:20 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 21:38:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:38:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.023s
2025-12-26 21:38:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:38:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.020s
2025-12-26 21:38:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 21:38:27 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:38:27 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:38:27 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:27 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:38:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | IP: 127.0.0.1
2025-12-26 21:38:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:38:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 21:38:29 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:38:29 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:38:29 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:29 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:31 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:38:31 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:38:31 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:31 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:38:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:38:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 5.378s
2025-12-26 21:38:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:38:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:35 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:35 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 5 conversations (total: 5)
2025-12-26 21:38:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 7.724s
2025-12-26 21:38:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:38:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:37 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:38:37 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:38:37 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:37 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:37 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:37 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:37 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 06fc706c-a60d-4fed-abf6-c3caa5a7ee13
2025-12-26 21:38:37 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 21:38:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/06fc706c-a60d-4fed-abf6-c3caa5a7ee13 | Status: 200 | Duration: 7.811s
2025-12-26 21:38:37 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'light', 'language': 'en', 'notifications': True}}
2025-12-26 21:38:37 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:38:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 7.823s
2025-12-26 21:38:38 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 9.301s
2025-12-26 21:38:38 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 21:38:38 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:38:38 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:38:38 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:38 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:41 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:38:41 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:41 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.759s
2025-12-26 21:38:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/documents/upload | IP: 127.0.0.1
2025-12-26 21:38:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/documents/upload | Status: 200 | Duration: 0.002s
2025-12-26 21:38:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/documents/upload | IP: 127.0.0.1
2025-12-26 21:38:48 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:38:48 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:38:48 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:48 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:51 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:38:51 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:51 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:38:51 | INFO     | spectraai | upload_document:28 | üìÑ Uploading document: Shruti_affidavit.pdf
2025-12-26 21:38:51 | INFO     | spectraai | process_pdf:21 | üìÑ Extracting text from PDF: storage\documents\32291408-bb0f-41cd-9b17-562ebf648b61.pdf
2025-12-26 21:38:51 | ERROR    | spectraai | process_pdf:41 | ‚ùå PDF processing error: No text could be extracted from PDF
2025-12-26 21:38:51 | ERROR    | spectraai | upload_document:104 | ‚ùå Document upload error: No text could be extracted from PDF
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\routes\documents.py", line 54, in upload_document
    content = await doc_processor.process_pdf(str(file_path))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "R:\2025\Projects\Spectra-AI\backend\services\document_processor.py", line 34, in process_pdf
    raise ValueError("No text could be extracted from PDF")
ValueError: No text could be extracted from PDF
2025-12-26 21:38:51 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 500 | Path: /api/documents/upload | Detail: Failed to upload document: No text could be extracted from PDF
2025-12-26 21:38:51 | ERROR    | spectraai | request_logger_middleware:227 | ‚ùå POST /api/documents/upload | Status: 500 | Duration: 2.774s
2025-12-26 21:38:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:38:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 21:38:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:38:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.025s
2025-12-26 21:38:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:38:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:38:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:38:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:38:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:38:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:38:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:38:58 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:38:58 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:38:58 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 21:38:58 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 21:38:58 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:38:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 2.782s
2025-12-26 21:39:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/preferences | IP: 127.0.0.1
2025-12-26 21:39:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/preferences | Status: 200 | Duration: 0.003s
2025-12-26 21:39:17 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  PATCH /api/auth/preferences | IP: 127.0.0.1
2025-12-26 21:39:17 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:39:17 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:39:17 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:17 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 21:39:19 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 21:39:19 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 21:39:19 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:19 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:22 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:39:22 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:22 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ PATCH /api/auth/preferences | Status: 200 | Duration: 4.773s
2025-12-26 21:39:23 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 21:39:23 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:23 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 21:39:23 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 21:39:23 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 21:39:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 3.406s
2025-12-26 21:39:26 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:39:26 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 21:39:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:39:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.019s
2025-12-26 21:39:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:39:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 21:39:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:39:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.021s
2025-12-26 21:39:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:39:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 21:40:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:40:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:40:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:40:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.029s
2025-12-26 21:40:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:40:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:40:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:40:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.025s
2025-12-26 21:40:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:40:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 21:41:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:41:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:41:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:41:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.013s
2025-12-26 21:41:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:41:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 21:41:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:41:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.021s
2025-12-26 21:42:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:42:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:42:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:42:27 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:42:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:42:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 21:42:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:42:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.023s
2025-12-26 21:42:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:42:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.026s
2025-12-26 21:42:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:42:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 21:43:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:43:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 21:43:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:43:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.031s
2025-12-26 21:43:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:43:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 21:43:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:43:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 21:44:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:44:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.015s
2025-12-26 21:44:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:44:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:44:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.364s
2025-12-26 21:44:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.031s
2025-12-26 21:44:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:44:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.018s
2025-12-26 21:45:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:45:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:45:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 21:45:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:45:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:45:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.021s
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.024s
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.025s
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.037s
2025-12-26 21:46:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 21:47:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:47:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.023s
2025-12-26 21:47:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:47:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.028s
2025-12-26 21:47:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:47:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.037s
2025-12-26 21:48:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 21:49:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:49:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:49:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.028s
2025-12-26 21:49:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.029s
2025-12-26 21:49:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:49:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.023s
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.078s
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.063s
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.062s
2025-12-26 21:50:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.062s
2025-12-26 21:51:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:51:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:51:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:51:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.059s
2025-12-26 21:51:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.059s
2025-12-26 21:51:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.057s
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.027s
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.027s
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /stats | IP: 127.0.0.1
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /stats | Status: 200 | Duration: 0.018s
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:52:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 21:53:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:53:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 21:53:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:53:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 21:53:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:53:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.021s
2025-12-26 21:54:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:54:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:54:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:54:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.053s
2025-12-26 21:54:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.035s
2025-12-26 21:54:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.035s
2025-12-26 21:54:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:54:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.022s
2025-12-26 21:55:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:55:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:55:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 21:55:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:55:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:55:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.015s
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.015s
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 21:56:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 22:04:09 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 22:04:09 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 22:04:17 | ERROR    | spectraai | __init__:75 | ‚ùå No AI provider available!
2025-12-26 22:04:17 | INFO     | spectraai | __init__:76 | üí° Get free API keys:
2025-12-26 22:04:17 | INFO     | spectraai | __init__:77 |    - Groq (RECOMMENDED): https://console.groq.com/keys
2025-12-26 22:04:17 | INFO     | spectraai | __init__:78 |    - Gemini: https://aistudio.google.com/app/apikey
2025-12-26 22:04:17 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:04:17 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 22:04:17 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 22:04:18 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:34:18.011440
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:04:18 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:04:18 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:04:18 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:04:18 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:04:18 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:04:18 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 22:04:18 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: Using default MongoDB URI (localhost)
2025-12-26 22:04:18 | WARNING  | spectraai | validate:358 | ‚ö†Ô∏è  Configuration warning: No admin users configured
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:83 | ‚úÖ Configuration validated
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:88 | üîß Checking services...
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   MongoDB: ‚úÖ Connected
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   Storage: ‚úÖ Ready
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   Embeddings: ‚úÖ Ready
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   Whisper: ‚úÖ Ready
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   YouTube: ‚úÖ Ready
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:101 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:104 | ================================================================================
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:105 | üìã System Configuration:
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:106 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:107 |   üåç Environment: development
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:108 |   üêõ Debug Mode: True
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:109 |   üîê Authentication: Clerk
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:110 |   ü§ñ AI Model: gemini-2.5-flash
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:111 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:112 |   üé§ Transcription: Whisper (base)
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:113 |   üé• YouTube: Transcript API
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:114 |   üíæ Database: spectraai
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:115 |   üì¶ Storage: storage
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:116 |   üåê CORS Origins: ['http://localhost:5173', 'http://127.0.0.1:5173', 'http://localhost:3000']
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:117 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:118 |   üëë Admin Users: 0
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:119 | ================================================================================
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:121 | ‚úÖ Application startup completed successfully
2025-12-26 22:04:18 | INFO     | spectraai | lifespan:122 | ================================================================================
2025-12-26 22:04:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:04:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 22:04:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:04:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/ | IP: 127.0.0.1
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.026s
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/ | Status: 200 | Duration: 0.005s
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.004s
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.002s
2025-12-26 22:04:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:04:21 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:21 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:21 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:21 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:04:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:04:23 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:04:23 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:23 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:23 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:23 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 2.061s
2025-12-26 22:04:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 2.061s
2025-12-26 22:04:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/ | IP: 127.0.0.1
2025-12-26 22:04:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/ | Status: 200 | Duration: 0.004s
2025-12-26 22:04:25 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:04:25 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:25 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:25 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:25 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:04:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:04:27 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:27 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:27 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:27 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:30 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:30 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:30 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:30 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:04:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:35 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:04:35 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:04:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 13.736s
2025-12-26 22:04:35 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:04:35 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:35 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:35 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:35 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:37 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:37 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:37 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:37 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:37 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 12 conversations (total: 12)
2025-12-26 22:04:37 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 11.420s
2025-12-26 22:04:37 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:04:37 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:37 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:37 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:37 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:39 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:39 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 043333cc-5222-47bf-ba62-3b9602e20c4e
2025-12-26 22:04:39 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 22:04:39 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (90 chars)
2025-12-26 22:04:39 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 043333cc-5222-47bf-ba62-3b9602e20c4e
2025-12-26 22:04:39 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 457aee53-730e-4949-85fa-8c7527ef8104
2025-12-26 22:04:39 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 22:04:39 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (90 chars)
2025-12-26 22:04:39 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 457aee53-730e-4949-85fa-8c7527ef8104
2025-12-26 22:04:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 11.301s
2025-12-26 22:04:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 11.304s
2025-12-26 22:04:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:04:39 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:39 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:39 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:39 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:41 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | IP: 127.0.0.1
2025-12-26 22:04:41 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:41 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:41 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:41 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c
2025-12-26 22:04:41 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 22:04:41 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (90 chars)
2025-12-26 22:04:41 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c
2025-12-26 22:04:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 17.467s
2025-12-26 22:04:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 9.263s
2025-12-26 22:04:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | Status: 200 | Duration: 0.056s
2025-12-26 22:04:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:04:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | IP: 127.0.0.1
2025-12-26 22:04:41 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:41 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:41 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:41 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:43 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | Status: 200 | Duration: 1.982s
2025-12-26 22:04:43 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:43 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | IP: 127.0.0.1
2025-12-26 22:04:43 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:04:43 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:04:43 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:43 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:43 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:43 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:45 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 10.123s
2025-12-26 22:04:45 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:45 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:45 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:45 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 15 conversations (total: 15)
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | IP: 127.0.0.1
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 8.092s
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | Status: 200 | Duration: 0.019s
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | IP: 127.0.0.1
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | Status: 200 | Duration: 0.025s
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.036s
2025-12-26 22:04:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:04:45 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:45 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:45 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:45 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:47 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:47 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:47 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:47 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:49 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:49 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:49 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:49 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:04:49 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 22:04:49 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (90 chars)
2025-12-26 22:04:49 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:04:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:04:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | IP: 127.0.0.1
2025-12-26 22:04:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 10.093s
2025-12-26 22:04:49 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:49 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:49 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:49 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:53 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:53 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:53 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:53 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 457aee53-730e-4949-85fa-8c7527ef8104
2025-12-26 22:04:53 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | Status: 200 | Duration: 10.206s
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.070s
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.040s
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | IP: 127.0.0.1
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | Status: 200 | Duration: 0.006s
2025-12-26 22:04:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | IP: 127.0.0.1
2025-12-26 22:04:53 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:53 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:53 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:53 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | IP: 127.0.0.1
2025-12-26 22:04:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:04:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 14.548s
2025-12-26 22:04:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:57 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:04:57 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:04:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:04:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 12.192s
2025-12-26 22:04:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.829s
2025-12-26 22:04:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:57 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:57 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 16 conversations (total: 16)
2025-12-26 22:04:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:57 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c
2025-12-26 22:04:57 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:04:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 8.352s
2025-12-26 22:04:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | Status: 200 | Duration: 8.351s
2025-12-26 22:04:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:04:57 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:57 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:57 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:57 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:04:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:04:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:04:59 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:04:59 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:04:59 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:04:59 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:01 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:05:01 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:05:01 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:05:01 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:05:03 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | IP: 127.0.0.1
2025-12-26 22:05:03 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:05:03 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:05:03 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:03 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:06 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 6.459s
2025-12-26 22:05:06 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:06 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:06 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 457aee53-730e-4949-85fa-8c7527ef8104
2025-12-26 22:05:06 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:05:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:05:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/457aee53-730e-4949-85fa-8c7527ef8104 | Status: 200 | Duration: 12.513s
2025-12-26 22:05:06 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:05:06 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:05:06 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:06 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:08 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:05:08 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:05:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | Status: 200 | Duration: 12.439s
2025-12-26 22:05:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | IP: 127.0.0.1
2025-12-26 22:05:08 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:05:08 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:05:08 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:08 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:09 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:05:09 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:05:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 11.376s
2025-12-26 22:05:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:05:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:05:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:05:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:09 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:09 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:09 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:09 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 16 conversations (total: 16)
2025-12-26 22:05:09 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:05:09 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:05:10 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:10 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:10 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c
2025-12-26 22:05:10 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:05:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 10.380s
2025-12-26 22:05:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/2dbaeed8-9be9-42dd-9bd2-0c8ab157ed7c | Status: 200 | Duration: 6.107s
2025-12-26 22:05:10 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:05:10 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:05:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 10.382s
2025-12-26 22:05:10 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:05:10 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:05:10 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:05:10 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:10 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:10 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:10 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:10 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:10 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:05:10 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:05:10 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.723s
2025-12-26 22:05:11 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:11 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:11 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:11 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:05:11 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:05:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | Status: 200 | Duration: 3.051s
2025-12-26 22:05:11 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:11 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:11 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:11 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:11 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:11 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 16 conversations (total: 16)
2025-12-26 22:05:11 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:11 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 1.399s
2025-12-26 22:05:11 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:05:11 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:05:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 2.347s
2025-12-26 22:05:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:05:14 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:05:14 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:05:14 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:14 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:05:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:17 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:05:17 | INFO     | spectraai | chat:390 | üìÇ Using existing conversation: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:05:17 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 2 messages)
2025-12-26 22:05:17 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (90 chars)
2025-12-26 22:05:17 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:05:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 3.095s
2025-12-26 22:05:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:05:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 22:05:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:05:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.022s
2025-12-26 22:05:43 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:05:43 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 22:05:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:05:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.041s
2025-12-26 22:05:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:05:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 22:05:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:05:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 22:05:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:05:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.017s
2025-12-26 22:06:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:06:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:06:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:06:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:06:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:06:12 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:06:12 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:06:12 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:06:12 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:06:12 | INFO     | spectraai | chat:390 | üìÇ Using existing conversation: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:06:12 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 4 messages)
2025-12-26 22:06:12 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (90 chars)
2025-12-26 22:06:12 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 187a358a-3ca5-4fa3-884d-b98c768036b0
2025-12-26 22:06:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 2.594s
2025-12-26 22:06:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:06:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.015s
2025-12-26 22:06:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:06:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.024s
2025-12-26 22:06:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:06:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 22:06:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:06:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.016s
2025-12-26 22:06:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:06:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 22:06:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:06:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.017s
2025-12-26 22:06:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:06:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.038s
2025-12-26 22:07:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:07:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 22:07:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:07:22 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.019s
2025-12-26 22:07:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:07:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 22:07:46 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:07:46 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.016s
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:133 | ================================================================================
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:134 | üõë Shutting down application...
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:135 | ‚è∞ Shutdown Time: 2025-12-26T16:37:48.469599
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:136 | ================================================================================
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:140 | üìä Disconnecting from MongoDB...
2025-12-26 22:07:48 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:07:48 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:07:48 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:142 | ‚úÖ MongoDB disconnected
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:145 | üßπ Clearing rate limit cache...
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:147 | ‚úÖ Cache cleared
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:150 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:07:48 | INFO     | spectraai | lifespan:151 | ================================================================================
2025-12-26 22:08:04 | INFO     | spectraai | __init__:49 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:08:04 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:08:04 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 22:09:54 | INFO     | spectraai | __init__:49 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:09:54 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:09:54 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 22:09:54 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 22:09:55 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 22:09:55 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:09:55 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:09:55 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:39:55.038764
2025-12-26 22:09:55 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:09:55 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:09:55 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:09:55 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:09:55 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:09:55 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:09:55 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:09:55 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:09:55 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:09:55 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 22:09:55 | ERROR    | spectraai | lifespan:125 | ================================================================================
2025-12-26 22:09:55 | CRITICAL | spectraai | lifespan:126 | ‚ùå STARTUP FAILED: 'Settings' object has no attribute 'validate'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\main.py", line 82, in lifespan
    if settings.validate():
       ^^^^^^^^^^^^^^^^^
AttributeError: 'Settings' object has no attribute 'validate'
2025-12-26 22:09:55 | ERROR    | spectraai | lifespan:127 | ================================================================================
2025-12-26 22:10:11 | INFO     | spectraai | __init__:49 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:10:11 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:10:11 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 22:10:11 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 22:10:11 | INFO     | spectraai | <module>:283 | ‚úÖ All routes registered
2025-12-26 22:10:11 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:10:11 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:10:11 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:40:11.898353
2025-12-26 22:10:11 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:10:11 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:10:11 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:10:11 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:10:11 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:10:11 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:10:11 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:10:11 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:10:11 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:10:11 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 22:10:11 | ERROR    | spectraai | lifespan:125 | ================================================================================
2025-12-26 22:10:11 | CRITICAL | spectraai | lifespan:126 | ‚ùå STARTUP FAILED: 'Settings' object has no attribute 'validate'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\main.py", line 82, in lifespan
    if settings.validate():
       ^^^^^^^^^^^^^^^^^
AttributeError: 'Settings' object has no attribute 'validate'
2025-12-26 22:10:11 | ERROR    | spectraai | lifespan:127 | ================================================================================
2025-12-26 22:12:04 | INFO     | spectraai | __init__:49 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:12:04 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:12:04 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 22:12:04 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 22:12:04 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 22:12:04 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:12:04 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:12:04 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:42:04.233642
2025-12-26 22:12:04 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:12:04 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:12:04 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:12:04 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:12:04 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:12:04 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:12:04 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:12:04 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:12:04 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:12:04 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 22:12:04 | ERROR    | spectraai | lifespan:125 | ================================================================================
2025-12-26 22:12:04 | CRITICAL | spectraai | lifespan:126 | ‚ùå STARTUP FAILED: 'Settings' object has no attribute 'validate'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\main.py", line 82, in lifespan
    if settings.validate():
       ^^^^^^^^^^^^^^^^^
AttributeError: 'Settings' object has no attribute 'validate'
2025-12-26 22:12:04 | ERROR    | spectraai | lifespan:127 | ================================================================================
2025-12-26 22:15:34 | INFO     | spectraai | __init__:49 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:15:34 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:15:34 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 22:15:34 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 22:15:35 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 22:15:35 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:15:35 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:15:35 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:45:35.019986
2025-12-26 22:15:35 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:15:35 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:15:35 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:15:35 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:15:35 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:15:35 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:15:35 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:15:35 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:15:35 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:15:35 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 22:15:35 | ERROR    | spectraai | lifespan:125 | ================================================================================
2025-12-26 22:15:35 | CRITICAL | spectraai | lifespan:126 | ‚ùå STARTUP FAILED: 'Settings' object has no attribute 'validate'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\main.py", line 82, in lifespan
    if settings.validate():
       ^^^^^^^^^^^^^^^^^
AttributeError: 'Settings' object has no attribute 'validate'
2025-12-26 22:15:35 | ERROR    | spectraai | lifespan:127 | ================================================================================
2025-12-26 22:15:44 | INFO     | spectraai | __init__:49 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:15:44 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:15:44 | INFO     | spectraai | <module>:186 | ‚úÖ Error handlers registered
2025-12-26 22:15:44 | INFO     | spectraai | <module>:202 | ‚úÖ CORS middleware configured
2025-12-26 22:15:44 | INFO     | spectraai | <module>:284 | ‚úÖ All routes registered
2025-12-26 22:15:44 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:15:44 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:15:44 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:45:44.716728
2025-12-26 22:15:44 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:15:44 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:15:44 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:15:44 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:15:44 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:15:44 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:15:44 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:15:44 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:15:44 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:15:44 | INFO     | spectraai | lifespan:81 | üîç Validating configuration...
2025-12-26 22:15:44 | ERROR    | spectraai | lifespan:125 | ================================================================================
2025-12-26 22:15:44 | CRITICAL | spectraai | lifespan:126 | ‚ùå STARTUP FAILED: 'Settings' object has no attribute 'validate'
Traceback (most recent call last):
  File "R:\2025\Projects\Spectra-AI\backend\main.py", line 82, in lifespan
    if settings.validate():
       ^^^^^^^^^^^^^^^^^
AttributeError: 'Settings' object has no attribute 'validate'
2025-12-26 22:15:44 | ERROR    | spectraai | lifespan:127 | ================================================================================
2025-12-26 22:16:27 | INFO     | spectraai | __init__:49 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:16:27 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:16:27 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:16:27 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:16:27 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:46:27.511107
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:16:27 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:16:27 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:16:27 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:16:27 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:16:27 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:16:27 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:16:27 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:27 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:27 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:27 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:27 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:28 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:28 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:28 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:28 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.893s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.893s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.893s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.887s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.886s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.886s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.886s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.884s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.884s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.883s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.884s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.882s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.882s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.882s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.882s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 1.882s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 22:16:29 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:16:29 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:29 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:29 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:29 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:16:30 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:16:30 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:30 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:31 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:31 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.088s
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.088s
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.087s
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.088s
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.089s
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.088s
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.041s
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:16:32 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:32 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:32 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:32 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.823s
2025-12-26 22:16:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.017s
2025-12-26 22:16:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:16:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:33 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:16:33 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:16:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 5.974s
2025-12-26 22:16:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 3.949s
2025-12-26 22:16:33 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:16:33 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:33 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:33 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:16:33 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:16:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 1.275s
2025-12-26 22:16:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:16:33 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:33 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:33 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:33 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:34 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 7.009s
2025-12-26 22:16:35 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:16:35 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:35 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:16:35 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:16:35 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:16:35 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 1.385s
2025-12-26 22:16:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.068s
2025-12-26 22:16:53 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:53 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.018s
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /stats | IP: 127.0.0.1
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/ | IP: 127.0.0.1
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /stats | Status: 200 | Duration: 0.084s
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/ | Status: 200 | Duration: 0.062s
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.008s
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.022s
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:54 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:16:54 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:54 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:54 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:54 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 1.260s
2025-12-26 22:16:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:16:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.539s
2025-12-26 22:16:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 22:16:56 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:16:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:57 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:16:57 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:57 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:58 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:16:58 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:16:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.001s
2025-12-26 22:16:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 22:16:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:16:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /stats | IP: 127.0.0.1
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/history/ | IP: 127.0.0.1
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /stats | Status: 200 | Duration: 0.009s
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/history/ | Status: 200 | Duration: 0.012s
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.404s
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/auth/me | IP: 127.0.0.1
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.004s
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/auth/me | Status: 200 | Duration: 0.005s
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:16:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.022s
2025-12-26 22:16:59 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:16:59 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:16:59 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:16:59 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:00 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:17:00 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:00 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:00 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:00 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:17:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:17:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 0.006s
2025-12-26 22:17:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations | Status: 200 | Duration: 0.004s
2025-12-26 22:17:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:17:01 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:01 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:01 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:01 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/ | IP: 127.0.0.1
2025-12-26 22:17:02 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/ | Status: 200 | Duration: 0.001s
2025-12-26 22:17:02 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:17:02 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:02 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:02 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:02 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:03 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:03 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 5 conversations (total: 5)
2025-12-26 22:17:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:04 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:04 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.012s
2025-12-26 22:17:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:17:04 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:17:04 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:17:04 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 5.415s
2025-12-26 22:17:04 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:04 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:04 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:04 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:17:05 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:05 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:05 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:05 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:06 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:17:06 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:06 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:06 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:06 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 7.565s
2025-12-26 22:17:07 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:07 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:07 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 84b5a682-67aa-4e4b-bf88-2e7ba68156c5
2025-12-26 22:17:08 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 22:17:08 | INFO     | spectraai | _generate_groq:147 | üöÄ Generating with Groq (llama-3.3-70b-versatile)
2025-12-26 22:17:08 | INFO     | spectraai | _generate_groq:173 | ‚úÖ Groq response (81 chars)
2025-12-26 22:17:08 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (81 chars)
2025-12-26 22:17:08 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 84b5a682-67aa-4e4b-bf88-2e7ba68156c5
2025-12-26 22:17:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:08 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:08 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 5.425s
2025-12-26 22:17:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | chat:373 | üí¨ Processing chat message for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | chat:406 | ‚úÖ New conversation created: 1ede55a3-2f3c-4963-a70f-b246abc70716
2025-12-26 22:17:08 | INFO     | spectraai | chat:458 | ü§ñ Generating AI response (history: 0 messages)
2025-12-26 22:17:08 | INFO     | spectraai | _generate_groq:147 | üöÄ Generating with Groq (llama-3.3-70b-versatile)
2025-12-26 22:17:08 | INFO     | spectraai | _generate_groq:173 | ‚úÖ Groq response (81 chars)
2025-12-26 22:17:08 | INFO     | spectraai | chat:468 | ‚úÖ AI response generated (81 chars)
2025-12-26 22:17:08 | INFO     | spectraai | chat:505 | ‚úÖ Messages saved to conversation: 1ede55a3-2f3c-4963-a70f-b246abc70716
2025-12-26 22:17:08 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:17:08 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 7 conversations (total: 7)
2025-12-26 22:17:08 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:08 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:08 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:08 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ POST /api/chat/ | Status: 200 | Duration: 5.151s
2025-12-26 22:17:09 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:17:09 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:17:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.070s
2025-12-26 22:17:09 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 3.211s
2025-12-26 22:17:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:17:09 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | IP: 127.0.0.1
2025-12-26 22:17:09 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:09 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:09 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:09 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:11 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:17:11 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:11 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | IP: 127.0.0.1
2025-12-26 22:17:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | Status: 200 | Duration: 2.295s
2025-12-26 22:17:12 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:12 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:12 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:12 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | Status: 200 | Duration: 1.140s
2025-12-26 22:17:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | IP: 127.0.0.1
2025-12-26 22:17:13 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:13 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:13 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:13 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:15 | INFO     | spectraai | get_conversations:82 | üì• Fetching conversations for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:15 | INFO     | spectraai | get_conversations:110 | ‚úÖ Fetched 7 conversations (total: 7)
2025-12-26 22:17:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 3.882s
2025-12-26 22:17:15 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:15 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:15 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:15 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 1ede55a3-2f3c-4963-a70f-b246abc70716
2025-12-26 22:17:15 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:17:15 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | Status: 200 | Duration: 1.744s
2025-12-26 22:17:15 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | IP: 127.0.0.1
2025-12-26 22:17:15 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:17:15 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:17:15 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:15 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:16 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:16 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:16 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 7.651s
2025-12-26 22:17:16 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:17:16 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:17:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 6.409s
2025-12-26 22:17:17 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:17:17 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:17 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:17:17 | INFO     | spectraai | get_conversation_by_id:154 | üì• Fetching conversation: 1ede55a3-2f3c-4963-a70f-b246abc70716
2025-12-26 22:17:17 | INFO     | spectraai | get_conversation_by_id:195 | ‚úÖ Fetched conversation with 2 messages
2025-12-26 22:17:17 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | Status: 200 | Duration: 1.920s
2025-12-26 22:17:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:17:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 22:17:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:17:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.012s
2025-12-26 22:17:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:17:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.016s
2025-12-26 22:17:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:17:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 22:17:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:17:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.047s
2025-12-26 22:17:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:17:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 22:17:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:17:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 22:18:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  OPTIONS /api/videos/youtube | IP: 127.0.0.1
2025-12-26 22:18:01 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ OPTIONS /api/videos/youtube | Status: 200 | Duration: 0.002s
2025-12-26 22:18:01 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 22:18:01 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:18:01 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:18:01 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:01 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:03 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:18:03 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:03 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:03 | INFO     | spectraai | upload_youtube_video:52 | üé• Processing YouTube video: https://www.youtube.com/watch?v=pg2jnT1a3ug
2025-12-26 22:18:03 | INFO     | spectraai | process_youtube:33 | üìπ Extracting YouTube video ID: pg2jnT1a3ug
2025-12-26 22:18:04 | WARNING  | spectraai | process_youtube:41 | ‚ö†Ô∏è Could not get video info: HTTP Error 400: Bad Request
2025-12-26 22:18:06 | WARNING  | spectraai | process_youtube:51 | ‚ö†Ô∏è Could not get transcript: 
Could not retrieve a transcript for the video https://www.youtube.com/watch?v=pg2jnT1a3ug! This is most likely caused by:

No transcripts were found for any of the requested language codes: ('en',)

For this video (pg2jnT1a3ug) transcripts are available in the following languages:

(MANUALLY CREATED)
None

(GENERATED)
 - hi ("Hindi (auto-generated)")[TRANSLATABLE]

(TRANSLATION LANGUAGES)
 - ab ("Abkhazian")
 - aa ("Afar")
 - af ("Afrikaans")
 - ak ("Akan")
 - sq ("Albanian")
 - am ("Amharic")
 - ar ("Arabic")
 - hy ("Armenian")
 - as ("Assamese")
 - ay ("Aymara")
 - az ("Azerbaijani")
 - bn ("Bangla")
 - ba ("Bashkir")
 - eu ("Basque")
 - be ("Belarusian")
 - bho ("Bhojpuri")
 - bs ("Bosnian")
 - br ("Breton")
 - bg ("Bulgarian")
 - my ("Burmese")
 - ca ("Catalan")
 - ceb ("Cebuano")
 - zh-Hans ("Chinese (Simplified)")
 - zh-Hant ("Chinese (Traditional)")
 - co ("Corsican")
 - hr ("Croatian")
 - cs ("Czech")
 - da ("Danish")
 - dv ("Divehi")
 - nl ("Dutch")
 - dz ("Dzongkha")
 - en ("English")
 - eo ("Esperanto")
 - et ("Estonian")
 - ee ("Ewe")
 - fo ("Faroese")
 - fj ("Fijian")
 - fil ("Filipino")
 - fi ("Finnish")
 - fr ("French")
 - gaa ("Ga")
 - gl ("Galician")
 - lg ("Ganda")
 - ka ("Georgian")
 - de ("German")
 - el ("Greek")
 - gn ("Guarani")
 - gu ("Gujarati")
 - ht ("Haitian Creole")
 - ha ("Hausa")
 - haw ("Hawaiian")
 - iw ("Hebrew")
 - hi ("Hindi")
 - hmn ("Hmong")
 - hu ("Hungarian")
 - is ("Icelandic")
 - ig ("Igbo")
 - id ("Indonesian")
 - iu ("Inuktitut")
 - ga ("Irish")
 - it ("Italian")
 - ja ("Japanese")
 - jv ("Javanese")
 - kl ("Kalaallisut")
 - kn ("Kannada")
 - kk ("Kazakh")
 - kha ("Khasi")
 - km ("Khmer")
 - rw ("Kinyarwanda")
 - ko ("Korean")
 - kri ("Krio")
 - ku ("Kurdish")
 - ky ("Kyrgyz")
 - lo ("Lao")
 - la ("Latin")
 - lv ("Latvian")
 - ln ("Lingala")
 - lt ("Lithuanian")
 - lua ("Luba-Lulua")
 - luo ("Luo")
 - lb ("Luxembourgish")
 - mk ("Macedonian")
 - mg ("Malagasy")
 - ms ("Malay")
 - ml ("Malayalam")
 - mt ("Maltese")
 - gv ("Manx")
 - mi ("MƒÅori")
 - mr ("Marathi")
 - mn ("Mongolian")
 - mfe ("Morisyen")
 - ne ("Nepali")
 - new ("Newari")
 - nso ("Northern Sotho")
 - no ("Norwegian")
 - ny ("Nyanja")
 - oc ("Occitan")
 - or ("Odia")
 - om ("Oromo")
 - os ("Ossetic")
 - pam ("Pampanga")
 - ps ("Pashto")
 - fa ("Persian")
 - pl ("Polish")
 - pt ("Portuguese")
 - pt-PT ("Portuguese (Portugal)")
 - pa ("Punjabi")
 - qu ("Quechua")
 - ro ("Romanian")
 - rn ("Rundi")
 - ru ("Russian")
 - sm ("Samoan")
 - sg ("Sango")
 - sa ("Sanskrit")
 - gd ("Scottish Gaelic")
 - sr ("Serbian")
 - crs ("Seselwa Creole French")
 - sn ("Shona")
 - sd ("Sindhi")
 - si ("Sinhala")
 - sk ("Slovak")
 - sl ("Slovenian")
 - so ("Somali")
 - st ("Southern Sotho")
 - es ("Spanish")
 - su ("Sundanese")
 - sw ("Swahili")
 - ss ("Swati")
 - sv ("Swedish")
 - tg ("Tajik")
 - ta ("Tamil")
 - tt ("Tatar")
 - te ("Telugu")
 - th ("Thai")
 - bo ("Tibetan")
 - ti ("Tigrinya")
 - to ("Tongan")
 - ts ("Tsonga")
 - tn ("Tswana")
 - tum ("Tumbuka")
 - tr ("Turkish")
 - tk ("Turkmen")
 - uk ("Ukrainian")
 - ur ("Urdu")
 - ug ("Uyghur")
 - uz ("Uzbek")
 - ve ("Venda")
 - vi ("Vietnamese")
 - war ("Waray")
 - cy ("Welsh")
 - fy ("Western Frisian")
 - wo ("Wolof")
 - xh ("Xhosa")
 - yi ("Yiddish")
 - yo ("Yoruba")
 - zu ("Zulu")

If you are sure that the described cause is not responsible for this error and that a transcript should be retrievable, please create an issue at https://github.com/jdepoix/youtube-transcript-api/issues. Please add which version of youtube_transcript_api you are using and provide the information needed to replicate the error. Also make sure that there are no open issues which already describe your problem!
2025-12-26 22:18:06 | ERROR    | spectraai | upload_youtube_video:79 | ‚ùå YouTube processing error: No transcript available for this video
2025-12-26 22:18:06 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 422 | Path: /api/videos/youtube | Detail: Failed to process YouTube video: No transcript available for this video
2025-12-26 22:18:06 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/videos/youtube | Status: 422 | Duration: 5.344s
2025-12-26 22:18:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:18:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 22:18:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:18:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.016s
2025-12-26 22:18:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:18:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.015s
2025-12-26 22:18:33 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:18:33 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 22:18:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/videos/youtube | IP: 127.0.0.1
2025-12-26 22:18:39 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:18:39 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:18:39 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:39 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:41 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:18:41 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:41 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:18:41 | INFO     | spectraai | upload_youtube_video:52 | üé• Processing YouTube video: https://www.youtube.com/watch?v=eWRfhZUzrAc
2025-12-26 22:18:41 | INFO     | spectraai | process_youtube:33 | üìπ Extracting YouTube video ID: eWRfhZUzrAc
2025-12-26 22:18:42 | WARNING  | spectraai | process_youtube:41 | ‚ö†Ô∏è Could not get video info: HTTP Error 400: Bad Request
2025-12-26 22:18:46 | WARNING  | spectraai | process_youtube:51 | ‚ö†Ô∏è Could not get transcript: no element found: line 1, column 0
2025-12-26 22:18:46 | ERROR    | spectraai | upload_youtube_video:79 | ‚ùå YouTube processing error: No transcript available for this video
2025-12-26 22:18:46 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 422 | Path: /api/videos/youtube | Detail: Failed to process YouTube video: No transcript available for this video
2025-12-26 22:18:46 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/videos/youtube | Status: 422 | Duration: 6.903s
2025-12-26 22:18:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:18:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.003s
2025-12-26 22:18:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:18:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 22:18:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:18:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 22:18:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:18:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.010s
2025-12-26 22:19:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:19:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.003s
2025-12-26 22:19:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:19:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 22:19:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:19:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 22:19:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:19:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.011s
2025-12-26 22:19:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:19:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 22:19:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:19:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:19:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:19:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 22:19:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:19:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.010s
2025-12-26 22:20:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:20:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.035s
2025-12-26 22:20:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:20:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 22:20:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:20:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.013s
2025-12-26 22:20:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:20:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.015s
2025-12-26 22:20:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:20:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 22:20:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:20:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 22:20:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:20:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 22:20:59 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:20:59 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.011s
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T16:51:29.810540
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:21:29 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:21:29 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:21:29 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:21:29 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:21:43 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:21:44 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:21:44 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:21:45 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:21:45 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:21:45 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:21:45 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:51:45.075471
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:21:45 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:21:45 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:21:45 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:21:45 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:21:45 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:21:45 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:21:45 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:21:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:21:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.013s
2025-12-26 22:21:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:21:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.009s
2025-12-26 22:21:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:21:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:22:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:22:30 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.010s
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 22:22:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:22:55 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:22:55 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:22:55 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:22:55 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:22:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:22:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:22:56 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:22:56 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:22:56 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:22:56 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:22:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.890s
2025-12-26 22:22:58 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:22:58 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:22:58 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:22:58 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:22:58 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:22:58 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:22:58 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:22:58 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:22:58 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:22:58 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:22:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 1.753s
2025-12-26 22:22:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 2.819s
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.025s
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.024s
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:23:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.012s
2025-12-26 22:23:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:23:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:23:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.012s
2025-12-26 22:23:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.011s
2025-12-26 22:24:39 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:24:39 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 22:24:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:24:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 22:24:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:24:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 22:24:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:24:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.017s
2025-12-26 22:24:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:24:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.026s
2025-12-26 22:24:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:24:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.028s
2025-12-26 22:24:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:24:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 22:25:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:25:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T16:55:37.690560
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:25:37 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:25:37 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:25:37 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:25:37 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:25:47 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:25:49 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:25:49 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:25:49 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:25:49 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:25:49 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:25:49 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:55:49.391582
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:25:49 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:25:49 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:25:49 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:25:49 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:25:49 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:25:49 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:25:49 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T16:55:50.415229
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:25:50 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:25:50 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:25:50 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:25:50 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:26:01 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:26:03 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:26:03 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:26:19 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:26:19 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:26:19 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:26:19 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T16:56:19.560665
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:26:19 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:26:19 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:26:19 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:26:19 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:26:19 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:26:19 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:26:19 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:29:56 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:29:58 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:29:58 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:30:03 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:30:04 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:30:04 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:30:04 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:30:04 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T17:00:04.515131
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:30:04 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:30:04 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:30:04 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:30:04 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:30:04 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:30:04 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:30:04 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:04 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.346s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.347s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.345s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.344s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.339s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.336s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.335s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.334s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.334s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.333s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.328s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.315s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.153s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.133s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.101s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.101s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.050s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.049s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.022s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.022s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:05 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:30:05 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:30:05 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:30:05 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:30:06 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.511s
2025-12-26 22:30:07 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:30:07 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:30:07 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:30:07 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:30:07 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:30:07 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 1.373s
2025-12-26 22:30:21 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:21 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.005s
2025-12-26 22:30:28 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:28 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 22:30:51 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:51 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.009s
2025-12-26 22:30:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.016s
2025-12-26 22:30:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 22:30:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:30:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.018s
2025-12-26 22:30:58 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:30:58 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 22:31:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:31:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.013s
2025-12-26 22:31:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:31:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:31:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 22:31:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.013s
2025-12-26 22:31:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:31:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:32:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:32:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.017s
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T17:02:17.281869
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:32:17 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:32:17 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:32:17 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:32:17 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:32:42 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:32:43 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:32:43 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:32:47 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:32:48 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:32:48 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:32:48 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:32:48 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T17:02:48.690265
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:32:48 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:32:48 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:32:48 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:32:48 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:32:48 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:32:48 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:32:48 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:33:09 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:33:10 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:33:10 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:33:15 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:33:16 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:33:16 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:33:16 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:33:16 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T17:03:16.055622
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:33:16 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:33:16 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:33:16 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:33:16 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:33:16 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:33:16 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:33:16 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.073s
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.072s
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.072s
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.074s
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.073s
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:33:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.083s
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T17:03:29.772435
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:33:29 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:33:29 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:33:29 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:33:29 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:33:47 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:33:48 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:33:48 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:33:51 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:33:52 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:33:52 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:33:52 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:33:52 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T17:03:52.152764
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:33:52 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:33:52 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:33:52 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:33:52 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:33:52 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:33:52 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:33:52 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:33:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:33:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:33:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.023s
2025-12-26 22:33:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.024s
2025-12-26 22:33:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:33:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.027s
2025-12-26 22:34:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:34:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.011s
2025-12-26 22:34:30 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:34:31 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:34:33 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:34:33 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:34:33 | INFO     | spectraai | chunk_text:62 | üìö Created 1 chunks from text
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T17:04:44.697691
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:34:44 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:34:44 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:34:44 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:34:44 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:35:04 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:35:05 | INFO     | spectraai | add_document:113 | ‚úÖ Added document test_doc_1 (1 chunks)
2025-12-26 22:35:05 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:35:05 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:35:05 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:35:05 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:35:05 | INFO     | spectraai | _generate_groq:157 | üöÄ Generating with Groq (llama-3.3-70b-versatile)
2025-12-26 22:35:05 | INFO     | spectraai | _generate_groq:163 | üìÑ Adding document (856 chars)
2025-12-26 22:35:05 | INFO     | spectraai | _generate_groq:225 | ‚úÖ Groq response (319 chars)
2025-12-26 22:35:05 | INFO     | spectraai | chunk_text:62 | üìö Created 1 chunks from text
2025-12-26 22:35:05 | INFO     | spectraai | add_video:167 | ‚úÖ Added video test_video_1 (1 chunks)
2025-12-26 22:35:05 | INFO     | spectraai | search_videos:242 | üîç Found 1 relevant video chunks
2025-12-26 22:35:06 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:35:06 | INFO     | spectraai | search_videos:242 | üîç Found 1 relevant video chunks
2025-12-26 22:35:06 | INFO     | spectraai | delete_document:275 | ‚úÖ Deleted document test_doc_1
2025-12-26 22:35:06 | INFO     | spectraai | delete_video:290 | ‚úÖ Deleted video test_video_1
2025-12-26 22:35:06 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:35:06 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:35:10 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:35:11 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:35:11 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:35:11 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:35:11 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T17:05:11.140517
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:35:11 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:35:11 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:35:11 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:35:11 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:35:11 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:35:11 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:35:11 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.026s
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.026s
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.026s
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.025s
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 22:35:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.020s
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T17:05:27.808837
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:35:27 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:35:27 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:35:27 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:35:27 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:35:44 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:35:45 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:35:45 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:35:45 | INFO     | spectraai | _generate_groq:157 | üöÄ Generating with Groq (llama-3.3-70b-versatile)
2025-12-26 22:35:45 | INFO     | spectraai | _generate_groq:225 | ‚úÖ Groq response (12 chars)
2025-12-26 22:35:47 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:35:48 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:35:48 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:35:50 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:35:50 | INFO     | spectraai | chunk_text:62 | üìö Created 1 chunks from text
2025-12-26 22:35:51 | INFO     | spectraai | add_document:113 | ‚úÖ Added document test_1 (1 chunks)
2025-12-26 22:35:51 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:35:51 | INFO     | spectraai | delete_document:275 | ‚úÖ Deleted document test_1
2025-12-26 22:35:52 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:35:53 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:35:53 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:35:53 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:35:53 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T17:05:53.227407
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:35:53 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:35:53 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:35:53 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:35:53 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:35:53 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:35:53 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:35:53 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:35:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:35:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:35:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.033s
2025-12-26 22:35:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.031s
2025-12-26 22:35:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:35:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 22:36:05 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:36:05 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.014s
2025-12-26 22:36:19 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:36:20 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:36:20 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:36:24 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:36:24 | INFO     | spectraai | register_error_handlers:382 | ‚úÖ Error handlers registered
2025-12-26 22:36:24 | INFO     | spectraai | <module>:199 | ‚úÖ Error handlers registered
2025-12-26 22:36:24 | INFO     | spectraai | <module>:215 | ‚úÖ CORS middleware configured
2025-12-26 22:36:24 | INFO     | spectraai | <module>:297 | ‚úÖ All routes registered
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:69 | ================================================================================
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:70 | üöÄ Starting SpectraAI v1.0.0
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:71 | ‚è∞ Startup Time: 2025-12-26T17:06:24.802420
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:72 | ================================================================================
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:76 | üìä Initializing MongoDB...
2025-12-26 22:36:24 | INFO     | spectraai | init_db:207 | üîå Initializing database connection...
2025-12-26 22:36:24 | INFO     | spectraai | connect:28 | üì° Connecting to MongoDB...
2025-12-26 22:36:24 | INFO     | spectraai | connect:49 | ‚úÖ Connected to MongoDB: spectraai
2025-12-26 22:36:24 | INFO     | spectraai | create_indexes:241 | üìä Creating database indexes...
2025-12-26 22:36:24 | INFO     | spectraai | create_indexes:275 | ‚úÖ Database indexes created successfully
2025-12-26 22:36:24 | INFO     | spectraai | init_db:213 | ‚úÖ Database initialized successfully
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:78 | ‚úÖ MongoDB initialized successfully
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:81 | üîç Checking configuration...
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:96 |   ‚úÖ Groq API Key configured
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:96 |   ‚úÖ Gemini API Key configured
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:96 |   ‚úÖ Clerk authentication configured
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:98 | ‚úÖ Configuration checked
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:101 | üîß Checking services...
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   MongoDB: ‚úÖ Connected
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   Clerk Auth: ‚úÖ Configured
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   Groq AI: ‚úÖ Configured
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   Gemini AI: ‚úÖ Configured
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   Storage: ‚úÖ Ready
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   Embeddings: ‚úÖ Ready
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   YouTube: ‚úÖ Ready
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:114 |   Rate Limiting: ‚úÖ Enabled
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:117 | ================================================================================
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:118 | üìã System Configuration:
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:119 |   üìç Server: 0.0.0.0:8000
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:120 |   üåç Environment: development
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:121 |   üêõ Debug Mode: True
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:122 |   üîê Authentication: Clerk
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:123 |   ü§ñ AI Models: Groq/Gemini
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:124 |   üß† Embedding Model: sentence-transformers/all-MiniLM-L6-v2
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:125 |   üé§ Transcription: Whisper (base)
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:126 |   üé• YouTube: Transcript API
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:127 |   üíæ Database: spectraai
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:128 |   üì¶ Storage: storage
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:129 |   üåê CORS: http://localhost:5173, http://127.0.0.1:5173, http://localhost:3000
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:131 |   ‚è±Ô∏è  Rate Limit: 60/min
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:132 | ================================================================================
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:134 | ‚úÖ Application startup completed successfully
2025-12-26 22:36:24 | INFO     | spectraai | lifespan:135 | ================================================================================
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.032s
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.047s
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:36:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.052s
2025-12-26 22:36:44 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:36:44 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:36:44 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:44 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:46 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:36:46 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:36:46 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:46 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:48 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:36:48 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:48 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:49 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:36:49 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:49 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:49 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:36:49 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:36:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.492s
2025-12-26 22:36:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.859s
2025-12-26 22:36:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:36:49 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:36:49 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:36:49 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:49 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:50 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:36:50 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:50 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:36:52 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 2.739s
2025-12-26 22:36:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:36:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.029s
2025-12-26 22:36:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:36:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.047s
2025-12-26 22:36:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:36:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.031s
2025-12-26 22:36:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:36:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:36:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.030s
2025-12-26 22:36:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.019s
2025-12-26 22:37:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 22:37:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.021s
2025-12-26 22:37:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:37:11 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:11 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:11 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:11 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:37:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:37:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:37:13 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | IP: 127.0.0.1
2025-12-26 22:37:13 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.019s
2025-12-26 22:37:13 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:13 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:13 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:13 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:14 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:14 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:14 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:14 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:15 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:15 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:15 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:15 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:37:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:37:16 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/ | Detail: Not Found
2025-12-26 22:37:16 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 404 | Duration: 0.006s
2025-12-26 22:37:16 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:16 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:16 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:16 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.881s
2025-12-26 22:37:16 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:16 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:16 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:16 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:37:16 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:16 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:16 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:17 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:17 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:17 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:17 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | Detail: Conversation not found
2025-12-26 22:37:18 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:18 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:18 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations/187a358a-3ca5-4fa3-884d-b98c768036b0 | Status: 404 | Duration: 5.485s
2025-12-26 22:37:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:37:18 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/ | Detail: Not Found
2025-12-26 22:37:18 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:37:18 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:37:18 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 404 | Duration: 0.032s
2025-12-26 22:37:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 5.519s
2025-12-26 22:37:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:37:18 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:18 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:18 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:18 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:20 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 7.477s
2025-12-26 22:37:20 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 4.212s
2025-12-26 22:37:20 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:20 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:37:20 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:21 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:21 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:21 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:21 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:21 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:22 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:37:22 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:22 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:22 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:22 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:23 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374muXfcwYvRdvcssv16x1WRLNP', 'email': 'singhalrajveer7@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374muYrVOoT2ACBxqlU4QpGIQv2', 'email_verified': True, 'preferences': {'theme': 'light'}}
2025-12-26 22:37:23 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:37:23 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.415s
2025-12-26 22:37:23 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:23 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:23 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:24 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:24 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:24 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374muXfcwYvRdvcssv16x1WRLNP
2025-12-26 22:37:24 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 2.408s
2025-12-26 22:37:25 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 4.202s
2025-12-26 22:37:27 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:37:27 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/ | Detail: Not Found
2025-12-26 22:37:27 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 404 | Duration: 0.002s
2025-12-26 22:37:30 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:37:30 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/ | Detail: Not Found
2025-12-26 22:37:30 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 404 | Duration: 0.003s
2025-12-26 22:37:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:37:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 22:37:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:37:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.018s
2025-12-26 22:37:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 22:37:47 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:47 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.029s
2025-12-26 22:37:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations | IP: 127.0.0.1
2025-12-26 22:37:48 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:48 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:48 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:48 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | IP: 127.0.0.1
2025-12-26 22:37:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:37:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/history/ | IP: 127.0.0.1
2025-12-26 22:37:50 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:37:50 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:50 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:50 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:50 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:51 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:51 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:51 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:51 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:52 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:52 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:52 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:52 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:54 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 4.021s
2025-12-26 22:37:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:55 | INFO     | spectraai | get_user_activities:32 | üìú Getting activities for user: {'user_id': 'user_374n2AquS5bpiu528uUatbWwxUi', 'email': 'singhalrajveer316@gmail.com', 'username': None, 'first_name': 'Rajveer', 'last_name': 'Singhal', 'full_name': 'Rajveer Singhal', 'image_url': 'https://images.clerk.dev/oauth_google/img_374n2ICaX8ZLVeIz8ancBRflPzU', 'email_verified': True, 'preferences': {'theme': 'dark'}}
2025-12-26 22:37:55 | INFO     | spectraai | get_user_activities:59 | ‚úÖ Retrieved 0 activities (page 1/0)
2025-12-26 22:37:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/history/ | Status: 200 | Duration: 4.849s
2025-12-26 22:37:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:55 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | Detail: Conversation not found
2025-12-26 22:37:55 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  GET /api/chat/conversations/1ede55a3-2f3c-4963-a70f-b246abc70716 | Status: 404 | Duration: 4.895s
2025-12-26 22:37:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/chat/conversations | Status: 200 | Duration: 6.564s
2025-12-26 22:37:55 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:55 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:55 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:56 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:37:56 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.008s
2025-12-26 22:37:57 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 6.839s
2025-12-26 22:37:57 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /api/auth/me | IP: 127.0.0.1
2025-12-26 22:37:57 | INFO     | spectraai | get_current_user:45 | üîê Verifying token: eyJhbGciOiJSUzI1NiIsImNhdCI6Im...
2025-12-26 22:37:57 | INFO     | spectraai | verify_clerk_token:87 | üîê Decoding token...
2025-12-26 22:37:57 | INFO     | spectraai | verify_clerk_token:102 | ‚úÖ Extracted user_id from token: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:57 | INFO     | spectraai | fetch_clerk_user:137 | üì° Fetching user from Clerk API: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:59 | INFO     | spectraai | fetch_clerk_user:144 | ‚úÖ User fetched successfully from Clerk
2025-12-26 22:37:59 | INFO     | spectraai | verify_clerk_token:115 | ‚úÖ Token verified for user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:37:59 | INFO     | spectraai | get_current_user:58 | ‚úÖ Authenticated user: user_374n2AquS5bpiu528uUatbWwxUi
2025-12-26 22:38:00 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /api/auth/me | Status: 200 | Duration: 3.793s
2025-12-26 22:38:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:38:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.072s
2025-12-26 22:38:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:38:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.040s
2025-12-26 22:38:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:38:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 22:38:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:38:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.011s
2025-12-26 22:38:41 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:38:41 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 22:38:44 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:38:44 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.010s
2025-12-26 22:38:45 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:38:45 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.018s
2025-12-26 22:38:48 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:38:48 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.014s
2025-12-26 22:38:49 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:38:49 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.011s
2025-12-26 22:38:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:38:55 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:38:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.016s
2025-12-26 22:38:55 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.016s
2025-12-26 22:39:11 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:39:11 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.004s
2025-12-26 22:39:12 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /stats | IP: 127.0.0.1
2025-12-26 22:39:12 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /stats | Status: 200 | Duration: 0.009s
2025-12-26 22:39:14 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:39:14 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.006s
2025-12-26 22:39:18 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  GET /health | IP: 127.0.0.1
2025-12-26 22:39:18 | INFO     | spectraai | request_logger_middleware:227 | ‚úÖ GET /health | Status: 200 | Duration: 0.007s
2025-12-26 22:39:19 | INFO     | spectraai | request_logger_middleware:191 | ‚û°Ô∏è  POST /api/chat/ | IP: 127.0.0.1
2025-12-26 22:39:19 | WARNING  | spectraai | http_exception_handler:236 | HTTP exception: 404 | Path: /api/chat/ | Detail: Not Found
2025-12-26 22:39:19 | WARNING  | spectraai | request_logger_middleware:227 | ‚ö†Ô∏è  POST /api/chat/ | Status: 404 | Duration: 0.006s
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:146 | ================================================================================
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:147 | üõë Shutting down application...
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:148 | ‚è∞ Shutdown Time: 2025-12-26T17:09:39.935577
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:149 | ================================================================================
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:153 | üìä Disconnecting from MongoDB...
2025-12-26 22:39:39 | INFO     | spectraai | shutdown_db:226 | üîå Shutting down database connection...
2025-12-26 22:39:39 | INFO     | spectraai | disconnect:67 | ‚úÖ Disconnected from MongoDB
2025-12-26 22:39:39 | INFO     | spectraai | shutdown_db:228 | ‚úÖ Database shutdown complete
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:155 | ‚úÖ MongoDB disconnected
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:158 | üßπ Clearing rate limit cache...
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:160 | ‚úÖ Cache cleared
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:162 | ================================================================================
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:163 | ‚úÖ Application shutdown completed successfully
2025-12-26 22:39:39 | INFO     | spectraai | lifespan:164 | ================================================================================
2025-12-26 22:40:05 | INFO     | spectraai | __init__:36 | ‚úÖ RAG Service initialized
2025-12-26 22:40:06 | INFO     | spectraai | _init_groq:70 | ‚úÖ Groq initialized with llama-3.3-70b-versatile
2025-12-26 22:40:07 | WARNING  | spectraai | _init_gemini:111 | ‚ö†Ô∏è All Gemini models failed
2025-12-26 22:40:07 | INFO     | spectraai | __init__:40 | üöÄ Primary provider: Groq (llama-3.3-70b-versatile)
2025-12-26 22:40:07 | INFO     | spectraai | chunk_text:62 | üìö Created 1 chunks from text
2025-12-26 22:40:10 | INFO     | spectraai | add_document:113 | ‚úÖ Added document test_doc_1 (1 chunks)
2025-12-26 22:40:10 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:40:10 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:40:10 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:40:10 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:40:10 | INFO     | spectraai | _generate_groq:157 | üöÄ Generating with Groq (llama-3.3-70b-versatile)
2025-12-26 22:40:10 | INFO     | spectraai | _generate_groq:163 | üìÑ Adding document (856 chars)
2025-12-26 22:40:10 | INFO     | spectraai | _generate_groq:225 | ‚úÖ Groq response (297 chars)
2025-12-26 22:40:10 | INFO     | spectraai | chunk_text:62 | üìö Created 1 chunks from text
2025-12-26 22:40:10 | INFO     | spectraai | add_video:167 | ‚úÖ Added video test_video_1 (1 chunks)
2025-12-26 22:40:10 | INFO     | spectraai | search_videos:242 | üîç Found 1 relevant video chunks
2025-12-26 22:40:10 | INFO     | spectraai | search_documents:204 | üîç Found 1 relevant document chunks
2025-12-26 22:40:10 | INFO     | spectraai | search_videos:242 | üîç Found 1 relevant video chunks
2025-12-26 22:40:10 | INFO     | spectraai | delete_document:275 | ‚úÖ Deleted document test_doc_1
2025-12-26 22:40:10 | INFO     | spectraai | delete_video:290 | ‚úÖ Deleted video test_video_1
